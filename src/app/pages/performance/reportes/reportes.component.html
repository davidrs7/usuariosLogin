<app-navigation></app-navigation>
<br>
<br>
<br>

<div class="container">

    <br>

    <div class="row">
        <div class="col-4">
            <button class="btn-green" (click)="exportarObjetivosExcel()">
              <div class="row">
                <div class="col-2">
              <i class="fa-regular fa-circle-down" style="font-size: 5rem;"></i>
                </div>
                <div class="col-10">
                  <b>OBJETIVOS</b><br>
                  <b>Descargar documento excel</b>
                </div>
              </div>
            </button>
        </div>
        <div class="col-4">
          <button class="btn-green" (click)="exportarCompetenciasExcel()">
            <div class="row">
              <div class="col-2">
            <i class="fa-regular fa-circle-down" style="font-size: 5rem;"></i>
              </div>
              <div class="col-10">
                <b>COMPETENCIAS</b><br>
                <b>Descargar documento excel</b>
              </div>
            </div>
          </button>
        </div>
        <div class="col-4">
          <button class="btn-red" (click)="exportToPdfCompetencias()">
            <div class="row">
              <div class="col-2">
            <i class="fa-regular fa-circle-down" style="font-size: 5rem;"></i>
              </div>
              <div class="col-10">
                <b>RESUMEN COMPLETO</b><br>
                <b>Descargar documento PDF</b>
              </div>
            </div>
          </button>
        </div>
    </div>
    <br><br><br><br>


    <h1> Reporte de objetivos: {{ usuario.nombre }} </h1>

    <hr><br>
    <div class="row">

        <div class="col-6">
            <h1> Calificacion lograda: {{ sumaTotalPorcentajeLogrado }} % </h1>
            <ngx-charts-advanced-pie-chart [view]="view" [scheme]="colorScheme" [results]="graficaPorcentajeLogrado"
                [gradient]="gradient" (select)="onSelect($event)" (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)">
            </ngx-charts-advanced-pie-chart>
        </div>
    </div>

    <div class="row">
        <ng-container *ngFor="let item of objetivosUsuario; let i = index;">
            <div class="col-4">
                <div class="card">
                    <div class="card__header">
                        <h3 class="card__title">{{ i + 1 }}. {{ item.titulo }}</h3>
                    </div>
                    <div class="card__content">
                        <p class="card__description">Descripci√≥n: {{ item.descripcion }}</p>
                        <p class="card__weight">Peso: {{ item.peso }}</p>
                    </div>
                    <div class="card__footer">
                        <p class="card__date">Fecha Inicio: {{ item.fechaInicio | slice: 0:10 }}</p>
                        <p class="card__date">Fecha Fin: {{ item.fechaFin | slice: 0:10 }}</p>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>

    <br>

    <div class="row">
        <div class="col-12">
            <h1> Reporte de competencias: {{ usuario.nombre }}</h1>
        </div>
    </div>
    <hr><br>
    <div class="row">
        <div class="col-12">

            <ngx-charts-bar-horizontal #chart [view]="viewHor" [scheme]="colorScheme" [results]="graficaCompetencias"
                [gradient]="gradient" [xAxis]="showXAxis" [yAxis]="showYAxis" [legend]="showLegend"
                [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="showYAxisLabel" [xAxisLabel]="xAxisLabel"
                [showDataLabel]="true" [yAxisLabel]="yAxisLabel" [animations]="true" [legendTitle]="'Competencias'">
            </ngx-charts-bar-horizontal>

        </div>
    </div>




</div>

import { createComponent, } from '@angular/core';
export class CompRef {
    constructor(options) {
        this.options = options;
        if (options.vcr) {
            this.ref = options.vcr.createComponent(options.component, {
                index: options.vcr.length,
                injector: options.injector || options.vcr.injector,
            });
        }
        else {
            this.ref = createComponent(options.component, {
                elementInjector: options.injector,
                environmentInjector: options.environmentInjector
            });
            options.appRef.attachView(this.ref.hostView);
        }
    }
    setInput(input, value) {
        this.ref.instance[input] = value;
        return this;
    }
    setInputs(inputs) {
        Object.keys(inputs).forEach((input) => {
            this.ref.instance[input] = inputs[input];
        });
        return this;
    }
    detectChanges() {
        this.ref.hostView.detectChanges();
        return this;
    }
    appendTo(container) {
        container.appendChild(this.getElement());
        return this;
    }
    removeFrom(container) {
        container.removeChild(this.getElement());
        return this;
    }
    getRawContent() {
        return this.getElement().outerHTML;
    }
    getElement() {
        return this.ref.location.nativeElement;
    }
    destroy() {
        this.ref.destroy();
        !this.options.vcr && this.options.appRef.detachView(this.ref.hostView);
        this.ref = null;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcC1yZWYuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ25lYXQvb3ZlcnZpZXcvc3JjL2xpYi92aWV3cy9jb21wLXJlZi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBRVMsZUFBZSxHQUk5QixNQUFNLGVBQWUsQ0FBQztBQVd2QixNQUFNLE9BQU8sT0FBTztJQUdsQixZQUFvQixPQUFtQjtRQUFuQixZQUFPLEdBQVAsT0FBTyxDQUFZO1FBQ3JDLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtZQUNmLElBQUksQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRTtnQkFDeEQsS0FBSyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTTtnQkFDekIsUUFBUSxFQUFFLE9BQU8sQ0FBQyxRQUFRLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRO2FBQ25ELENBQUMsQ0FBQztTQUNKO2FBQU07WUFDTCxJQUFJLENBQUMsR0FBRyxHQUFHLGVBQWUsQ0FBSSxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUMvQyxlQUFlLEVBQUUsT0FBTyxDQUFDLFFBQVE7Z0JBQ2pDLG1CQUFtQixFQUFFLE9BQU8sQ0FBQyxtQkFBbUI7YUFDakQsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUM5QztJQUNILENBQUM7SUFFRCxRQUFRLENBQXNDLEtBQVEsRUFBRSxLQUFXO1FBQ2pFLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUVqQyxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxTQUFTLENBQUMsTUFBb0M7UUFDNUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNwQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxhQUFhO1FBQ1gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDbEMsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsUUFBUSxDQUFDLFNBQWtCO1FBQ3pCLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7UUFFekMsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsVUFBVSxDQUFDLFNBQWtCO1FBQzNCLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7UUFFekMsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsYUFBYTtRQUNYLE9BQU8sSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLFNBQVMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsVUFBVTtRQUNSLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDO0lBQ3pDLENBQUM7SUFFRCxPQUFPO1FBQ0wsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNuQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFwcGxpY2F0aW9uUmVmLFxuICBDb21wb25lbnRSZWYsIGNyZWF0ZUNvbXBvbmVudCwgIEVudmlyb25tZW50SW5qZWN0b3IsXG4gIEluamVjdG9yLFxuICBUeXBlLFxuICBWaWV3Q29udGFpbmVyUmVmLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEV4Y2x1ZGVGdW5jdGlvbnMsIFZpZXdSZWYgfSBmcm9tICcuL3R5cGVzJztcblxuaW50ZXJmYWNlIE9wdGlvbnM8Qz4ge1xuICBjb21wb25lbnQ6IFR5cGU8Qz47XG4gIGluamVjdG9yOiBJbmplY3RvcjtcbiAgZW52aXJvbm1lbnRJbmplY3RvcjogRW52aXJvbm1lbnRJbmplY3RvcjtcbiAgdmNyOiBWaWV3Q29udGFpbmVyUmVmIHwgdW5kZWZpbmVkO1xuICBhcHBSZWY6IEFwcGxpY2F0aW9uUmVmIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgQ29tcFJlZjxUPiBpbXBsZW1lbnRzIFZpZXdSZWYge1xuICByZWY6IENvbXBvbmVudFJlZjxUPjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG9wdGlvbnM6IE9wdGlvbnM8VD4pIHtcbiAgICBpZiAob3B0aW9ucy52Y3IpIHtcbiAgICAgIHRoaXMucmVmID0gb3B0aW9ucy52Y3IuY3JlYXRlQ29tcG9uZW50KG9wdGlvbnMuY29tcG9uZW50LCB7XG4gICAgICAgIGluZGV4OiBvcHRpb25zLnZjci5sZW5ndGgsXG4gICAgICAgIGluamVjdG9yOiBvcHRpb25zLmluamVjdG9yIHx8IG9wdGlvbnMudmNyLmluamVjdG9yLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVmID0gY3JlYXRlQ29tcG9uZW50PFQ+KG9wdGlvbnMuY29tcG9uZW50LCB7XG4gICAgICAgIGVsZW1lbnRJbmplY3Rvcjogb3B0aW9ucy5pbmplY3RvcixcbiAgICAgICAgZW52aXJvbm1lbnRJbmplY3Rvcjogb3B0aW9ucy5lbnZpcm9ubWVudEluamVjdG9yXG4gICAgICB9KTtcbiAgICAgIG9wdGlvbnMuYXBwUmVmLmF0dGFjaFZpZXcodGhpcy5yZWYuaG9zdFZpZXcpO1xuICAgIH1cbiAgfVxuXG4gIHNldElucHV0PEsgZXh0ZW5kcyBrZXlvZiBFeGNsdWRlRnVuY3Rpb25zPFQ+PihpbnB1dDogSywgdmFsdWU6IFRbS10pIHtcbiAgICB0aGlzLnJlZi5pbnN0YW5jZVtpbnB1dF0gPSB2YWx1ZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0SW5wdXRzKGlucHV0czogUGFydGlhbDxFeGNsdWRlRnVuY3Rpb25zPFQ+Pikge1xuICAgIE9iamVjdC5rZXlzKGlucHV0cykuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMucmVmLmluc3RhbmNlW2lucHV0XSA9IGlucHV0c1tpbnB1dF07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGRldGVjdENoYW5nZXMoKSB7XG4gICAgdGhpcy5yZWYuaG9zdFZpZXcuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYXBwZW5kVG8oY29udGFpbmVyOiBFbGVtZW50KSB7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZ2V0RWxlbWVudCgpKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlRnJvbShjb250YWluZXI6IEVsZW1lbnQpIHtcbiAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5nZXRFbGVtZW50KCkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXRSYXdDb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnQoKS5vdXRlckhUTUw7XG4gIH1cblxuICBnZXRFbGVtZW50PFQgZXh0ZW5kcyBFbGVtZW50PigpOiBUIHtcbiAgICByZXR1cm4gdGhpcy5yZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudDtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZWYuZGVzdHJveSgpO1xuICAgICF0aGlzLm9wdGlvbnMudmNyICYmIHRoaXMub3B0aW9ucy5hcHBSZWYuZGV0YWNoVmlldyh0aGlzLnJlZi5ob3N0Vmlldyk7XG4gICAgdGhpcy5yZWYgPSBudWxsO1xuICB9XG59XG4iXX0=
{"ast":null,"code":"import _asyncToGenerator from \"E:/david/Freelance/Tindux/Transmilenio/rrhh_Api/Spa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nlet UsuariosComponent = class UsuariosComponent {\n  constructor(fb, modalService, router, loginServices) {\n    this.fb = fb;\n    this.modalService = modalService;\n    this.router = router;\n    this.loginServices = loginServices;\n    this.usuarios = [];\n    this.seleccion = {};\n    this.usuario = [];\n    this.canva = false;\n    this.p_Size = 5;\n    this.page = 1;\n    this.optionsPage = [5, 10, 30, 50];\n    this.usuarioToEdit = false;\n    this.rutaApi = 'User';\n    this.criterio = '';\n    this.myControl = new FormControl();\n    this.usuariosForm = this.fb.group({\n      usuarioId: [0, []],\n      nombre: ['', Validators.required],\n      tipodocumento: [1, []],\n      numdocumento: ['', Validators.required],\n      correoelectronico: ['', Validators.required],\n      contraseña: ['', Validators.required],\n      telefono: ['', Validators.required],\n      direccion: ['', Validators.required],\n      fechanacimiento: ['', Validators.required],\n      fechacreacion: [this.obtenerFechaActual(), []],\n      sexoid: [0, Validators.required],\n      jefeid: [0, Validators.required],\n      rolid: [0, Validators.required],\n      cargoid: [0, Validators.required],\n      empresaid: [0, Validators.required],\n      ususarioopcionalId: [1, []],\n      estado: [true, Validators.required]\n    });\n  }\n\n  ngOnInit() {\n    this.cargarLista();\n  }\n\n  pageEvent(e) {\n    this.p_Size = e.pageSize;\n    this.page = e.pageIndex + 1;\n  }\n\n  selectForQuery(objeto) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.seleccion = objeto;\n\n      let ing = _this.usuarios.filter(x => x.documento == objeto.numDocumento);\n\n      if (ing.length == 0) {\n        Swal.fire({\n          icon: 'info',\n          title: 'Sin resultados',\n          text: `Su búsqueda no tiene cargas relacionadas`\n        }).then(resp => {});\n      } else {\n        ing.forEach(element => {});\n      }\n\n      _this.criterio = '';\n    })();\n  }\n\n  cargarLista() {\n    this.loginServices.GetAllData(this.rutaApi).subscribe(respuesta => {\n      this.usuarios = respuesta.data;\n    });\n  }\n\n  LimpiarFormulario() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n\n    (_a = this.usuariosForm.get('usuarioId')) === null || _a === void 0 ? void 0 : _a.setValue(0);\n    (_b = this.usuariosForm.get('nombre')) === null || _b === void 0 ? void 0 : _b.setValue('');\n    (_c = this.usuariosForm.get('tipodocumento')) === null || _c === void 0 ? void 0 : _c.setValue(0);\n    (_d = this.usuariosForm.get('numdocumento')) === null || _d === void 0 ? void 0 : _d.setValue('');\n    (_e = this.usuariosForm.get('correoelectronico')) === null || _e === void 0 ? void 0 : _e.setValue('');\n    (_f = this.usuariosForm.get('contraseña')) === null || _f === void 0 ? void 0 : _f.setValue('');\n    (_g = this.usuariosForm.get('direccion')) === null || _g === void 0 ? void 0 : _g.setValue('');\n    (_h = this.usuariosForm.get('fechanacimiento')) === null || _h === void 0 ? void 0 : _h.setValue('');\n    (_j = this.usuariosForm.get('fechacreacion')) === null || _j === void 0 ? void 0 : _j.setValue(this.obtenerFechaActual());\n    (_k = this.usuariosForm.get('telefono')) === null || _k === void 0 ? void 0 : _k.setValue('');\n    (_l = this.usuariosForm.get('sexoid')) === null || _l === void 0 ? void 0 : _l.setValue(0);\n    (_m = this.usuariosForm.get('jefeid')) === null || _m === void 0 ? void 0 : _m.setValue(0);\n    (_o = this.usuariosForm.get('rolid')) === null || _o === void 0 ? void 0 : _o.setValue(0);\n    (_p = this.usuariosForm.get('cargoid')) === null || _p === void 0 ? void 0 : _p.setValue(0);\n    (_q = this.usuariosForm.get('empresaid')) === null || _q === void 0 ? void 0 : _q.setValue(0);\n    (_r = this.usuariosForm.get('ususarioopcionalId')) === null || _r === void 0 ? void 0 : _r.setValue(0);\n    (_s = this.usuariosForm.get('estado')) === null || _s === void 0 ? void 0 : _s.setValue(true);\n    this.cargarLista();\n    this.canva = false;\n    this.usuarioToEdit = false;\n  }\n\n  eliminarUsuarios(rolesId) {\n    this.loginServices.eliminarDato(this.rutaApi, rolesId).subscribe(respuesta => {\n      Swal.fire({\n        icon: respuesta.estado.codigo == \"500\" ? 'warning' : 'success',\n        title: respuesta.estado.codigo == \"500\" ? \"Error: Usuarios asociados a este rol\" : respuesta.estado.descripcion,\n        text: 'Codigo: ' + respuesta.estado.codigo\n      }).then(res => {\n        this.LimpiarFormulario();\n      });\n    }, error => {\n      Swal.fire({\n        icon: 'error',\n        title: 'Error',\n        text: 'Hubo un problema al realizar la solicitud. Por favor, inténtalo nuevamente.'\n      });\n      this.LimpiarFormulario();\n    });\n  }\n\n  guardaUsuarios() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n\n    const body = {\n      usuarioId: ((_a = this.usuariosForm.get('usuarioId')) === null || _a === void 0 ? void 0 : _a.value) || 0,\n      nombre: (_b = this.usuariosForm.get('nombre')) === null || _b === void 0 ? void 0 : _b.value,\n      tipoDocumento: (_c = this.usuariosForm.get('tipodocumento')) === null || _c === void 0 ? void 0 : _c.value,\n      numDocumento: (_d = this.usuariosForm.get('numdocumento')) === null || _d === void 0 ? void 0 : _d.value,\n      correoElectronico: (_e = this.usuariosForm.get('correoelectronico')) === null || _e === void 0 ? void 0 : _e.value,\n      contraseña: (_f = this.usuariosForm.get('contraseña')) === null || _f === void 0 ? void 0 : _f.value,\n      telefono: (_g = this.usuariosForm.get('telefono')) === null || _g === void 0 ? void 0 : _g.value,\n      direccion: (_h = this.usuariosForm.get('direccion')) === null || _h === void 0 ? void 0 : _h.value,\n      fechaNacimiento: (_j = this.usuariosForm.get('fechanacimiento')) === null || _j === void 0 ? void 0 : _j.value,\n      fechaCreacion: (_k = this.usuariosForm.get('fechacreacion')) === null || _k === void 0 ? void 0 : _k.value,\n      sexoId: (_l = this.usuariosForm.get('sexoid')) === null || _l === void 0 ? void 0 : _l.value,\n      jefeId: Number((_m = this.usuariosForm.get('jefeid')) === null || _m === void 0 ? void 0 : _m.value) || 0,\n      rolId: (_o = this.usuariosForm.get('rolid')) === null || _o === void 0 ? void 0 : _o.value,\n      cargoId: ((_p = this.usuariosForm.get('cargoid')) === null || _p === void 0 ? void 0 : _p.value) || 0,\n      empresaId: (_q = this.usuariosForm.get('empresaid')) === null || _q === void 0 ? void 0 : _q.value,\n      usuarioIdOpcional: (_r = this.usuariosForm.get('ususarioopcionalId')) === null || _r === void 0 ? void 0 : _r.value,\n      estado: ((_s = this.usuariosForm.get('estado')) === null || _s === void 0 ? void 0 : _s.value) == \"true\" ? true : false\n    };\n\n    if (this.validarcampos()) {\n      let resp = this.usuarioToEdit == true ? this.ActualizarUsuarios(body) : this.CrearUsuarios(body);\n    }\n  }\n\n  validarcampos() {\n    if (!this.usuariosForm.valid) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Error',\n        text: 'Por favor valida los campos obligatorios'\n      });\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  ActualizarUsuarios(body) {\n    this.loginServices.UpdateData(this.rutaApi, this.usuario[0].usuarioId, body).subscribe(respuesta => {\n      Swal.fire({\n        icon: 'success',\n        title: 'Mensaje: ' + respuesta.estado.descripcion,\n        text: 'Codigo: ' + respuesta.estado.codigo\n      }).then(res => {\n        this.LimpiarFormulario();\n      });\n    }, error => {\n      Swal.fire({\n        icon: 'error',\n        title: 'Error',\n        text: 'Hubo un problema al realizar la solicitud. Por favor, inténtalo nuevamente.'\n      });\n      this.LimpiarFormulario();\n    });\n  }\n\n  CrearUsuarios(body) {\n    this.canva = true;\n    this.loginServices.createData(this.rutaApi, body).subscribe(respuesta => {\n      Swal.fire({\n        icon: 'success',\n        title: 'Mensaje: ' + respuesta.estado.descripcion,\n        text: 'Codigo: ' + respuesta.estado.codigo\n      }).then(res => {// this.LimpiarFormulario();\n      });\n    }, error => {\n      Swal.fire({\n        icon: 'error',\n        title: 'Error',\n        text: 'Hubo un problema al realizar la solicitud. Por favor, inténtalo nuevamente.'\n      }); //this.LimpiarFormulario();\n    });\n  }\n\n  editarUsuarios(id) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n\n    this.usuarioToEdit = true;\n    this.usuario = this.usuarios.filter(x => x.usuarioId == id);\n    (_a = this.usuariosForm.get('usuarioId')) === null || _a === void 0 ? void 0 : _a.setValue(this.usuario[0].usuarioId);\n    (_b = this.usuariosForm.get('nombre')) === null || _b === void 0 ? void 0 : _b.setValue(this.usuario[0].nombre);\n    (_c = this.usuariosForm.get('tipodocumento')) === null || _c === void 0 ? void 0 : _c.setValue(this.usuario[0].tipoDocumento);\n    (_d = this.usuariosForm.get('numdocumento')) === null || _d === void 0 ? void 0 : _d.setValue(this.usuario[0].numDocumento);\n    (_e = this.usuariosForm.get('contraseña')) === null || _e === void 0 ? void 0 : _e.setValue(this.usuario[0].contraseña);\n    (_f = this.usuariosForm.get('correoelectronico')) === null || _f === void 0 ? void 0 : _f.setValue(this.usuario[0].correoElectronico);\n    (_g = this.usuariosForm.get('telefono')) === null || _g === void 0 ? void 0 : _g.setValue(this.usuario[0].telefono);\n    (_h = this.usuariosForm.get('direccion')) === null || _h === void 0 ? void 0 : _h.setValue(this.usuario[0].direccion);\n    (_j = this.usuariosForm.get('fechanacimiento')) === null || _j === void 0 ? void 0 : _j.setValue(this.convertirFormatoFecha(this.usuario[0].fechaNacimiento));\n    (_k = this.usuariosForm.get('fechacreacion')) === null || _k === void 0 ? void 0 : _k.setValue(this.obtenerFechaActual());\n    (_l = this.usuariosForm.get('sexoid')) === null || _l === void 0 ? void 0 : _l.setValue(this.usuario[0].sexoId);\n    (_m = this.usuariosForm.get('jefeid')) === null || _m === void 0 ? void 0 : _m.setValue(this.usuario[0].jefeId || 0);\n    (_o = this.usuariosForm.get('rolid')) === null || _o === void 0 ? void 0 : _o.setValue(this.usuario[0].rolId);\n    (_p = this.usuariosForm.get('cargoid')) === null || _p === void 0 ? void 0 : _p.setValue(this.usuario[0].cargoId);\n    (_q = this.usuariosForm.get('empresaid')) === null || _q === void 0 ? void 0 : _q.setValue(this.usuario[0].empresaId);\n    (_r = this.usuariosForm.get('ususarioopcionalId')) === null || _r === void 0 ? void 0 : _r.setValue(this.usuario[0].usuarioIdOpcional || 1);\n    (_s = this.usuariosForm.get('estado')) === null || _s === void 0 ? void 0 : _s.setValue(this.usuario[0].estado);\n  }\n\n  obtenerFechaActual() {\n    const fechaActual = new Date();\n    const fechaFormateada = `${fechaActual.getFullYear()}-${this.dosDigitos(fechaActual.getMonth() + 1)}-${this.dosDigitos(fechaActual.getDate())}`;\n    return fechaFormateada;\n  }\n\n  convertirFormatoFecha(fechaISO) {\n    const fechaObj = new Date(fechaISO);\n    const año = fechaObj.getFullYear();\n    const mes = ('0' + (fechaObj.getMonth() + 1)).slice(-2);\n    const dia = ('0' + fechaObj.getDate()).slice(-2);\n    return `${año}-${mes}-${dia}`;\n  }\n\n  dosDigitos(n) {\n    return n < 10 ? '0' + n : '' + n;\n  }\n\n};\nUsuariosComponent = __decorate([Component({\n  selector: 'app-usuarios',\n  templateUrl: './usuarios.component.html',\n  styleUrls: ['./usuarios.component.scss']\n})], UsuariosComponent);\nexport { UsuariosComponent };","map":{"version":3,"sources":["E:/david/Freelance/Tindux/Transmilenio/rrhh_Api/Spa/src/app/pages/usuarios/usuarios.component.ts"],"names":["__decorate","Component","FormControl","Validators","Swal","UsuariosComponent","constructor","fb","modalService","router","loginServices","usuarios","seleccion","usuario","canva","p_Size","page","optionsPage","usuarioToEdit","rutaApi","criterio","myControl","usuariosForm","group","usuarioId","nombre","required","tipodocumento","numdocumento","correoelectronico","contraseña","telefono","direccion","fechanacimiento","fechacreacion","obtenerFechaActual","sexoid","jefeid","rolid","cargoid","empresaid","ususarioopcionalId","estado","ngOnInit","cargarLista","pageEvent","e","pageSize","pageIndex","selectForQuery","objeto","ing","filter","x","documento","numDocumento","length","fire","icon","title","text","then","resp","forEach","element","GetAllData","subscribe","respuesta","data","LimpiarFormulario","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","get","setValue","eliminarUsuarios","rolesId","eliminarDato","codigo","descripcion","res","error","guardaUsuarios","body","value","tipoDocumento","correoElectronico","fechaNacimiento","fechaCreacion","sexoId","jefeId","Number","rolId","cargoId","empresaId","usuarioIdOpcional","validarcampos","ActualizarUsuarios","CrearUsuarios","valid","UpdateData","createData","editarUsuarios","id","convertirFormatoFecha","fechaActual","Date","fechaFormateada","getFullYear","dosDigitos","getMonth","getDate","fechaISO","fechaObj","año","mes","slice","dia","n","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,gBAAxC;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,IAAIC,iBAAiB,GAAG,MAAMA,iBAAN,CAAwB;AAC5CC,EAAAA,WAAW,CAACC,EAAD,EAAKC,YAAL,EAAmBC,MAAnB,EAA2BC,aAA3B,EAA0C;AACjD,SAAKH,EAAL,GAAUA,EAAV;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,KAAL,GAAa,KAAb;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,IAAL,GAAY,CAAZ;AACA,SAAKC,WAAL,GAAmB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAAnB;AACA,SAAKC,aAAL,GAAqB,KAArB;AACA,SAAKC,OAAL,GAAe,MAAf;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,SAAL,GAAiB,IAAInB,WAAJ,EAAjB;AACA,SAAKoB,YAAL,GAAoB,KAAKf,EAAL,CAAQgB,KAAR,CAAc;AAC9BC,MAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,EAAJ,CADmB;AAE9BC,MAAAA,MAAM,EAAE,CAAC,EAAD,EAAKtB,UAAU,CAACuB,QAAhB,CAFsB;AAG9BC,MAAAA,aAAa,EAAE,CAAC,CAAD,EAAI,EAAJ,CAHe;AAI9BC,MAAAA,YAAY,EAAE,CAAC,EAAD,EAAKzB,UAAU,CAACuB,QAAhB,CAJgB;AAK9BG,MAAAA,iBAAiB,EAAE,CAAC,EAAD,EAAK1B,UAAU,CAACuB,QAAhB,CALW;AAM9BI,MAAAA,UAAU,EAAE,CAAC,EAAD,EAAK3B,UAAU,CAACuB,QAAhB,CANkB;AAO9BK,MAAAA,QAAQ,EAAE,CAAC,EAAD,EAAK5B,UAAU,CAACuB,QAAhB,CAPoB;AAQ9BM,MAAAA,SAAS,EAAE,CAAC,EAAD,EAAK7B,UAAU,CAACuB,QAAhB,CARmB;AAS9BO,MAAAA,eAAe,EAAE,CAAC,EAAD,EAAK9B,UAAU,CAACuB,QAAhB,CATa;AAU9BQ,MAAAA,aAAa,EAAE,CAAC,KAAKC,kBAAL,EAAD,EAA4B,EAA5B,CAVe;AAW9BC,MAAAA,MAAM,EAAE,CAAC,CAAD,EAAIjC,UAAU,CAACuB,QAAf,CAXsB;AAY9BW,MAAAA,MAAM,EAAE,CAAC,CAAD,EAAIlC,UAAU,CAACuB,QAAf,CAZsB;AAa9BY,MAAAA,KAAK,EAAE,CAAC,CAAD,EAAInC,UAAU,CAACuB,QAAf,CAbuB;AAc9Ba,MAAAA,OAAO,EAAE,CAAC,CAAD,EAAIpC,UAAU,CAACuB,QAAf,CAdqB;AAe9Bc,MAAAA,SAAS,EAAE,CAAC,CAAD,EAAIrC,UAAU,CAACuB,QAAf,CAfmB;AAgB9Be,MAAAA,kBAAkB,EAAE,CAAC,CAAD,EAAI,EAAJ,CAhBU;AAiB9BC,MAAAA,MAAM,EAAE,CAAC,IAAD,EAAOvC,UAAU,CAACuB,QAAlB;AAjBsB,KAAd,CAApB;AAmBH;;AACDiB,EAAAA,QAAQ,GAAG;AACP,SAAKC,WAAL;AACH;;AACDC,EAAAA,SAAS,CAACC,CAAD,EAAI;AACT,SAAK/B,MAAL,GAAc+B,CAAC,CAACC,QAAhB;AACA,SAAK/B,IAAL,GAAY8B,CAAC,CAACE,SAAF,GAAc,CAA1B;AACH;;AACKC,EAAAA,cAAc,CAACC,MAAD,EAAS;AAAA;;AAAA;AACzB,MAAA,KAAI,CAACtC,SAAL,GAAiBsC,MAAjB;;AACA,UAAIC,GAAG,GAAG,KAAI,CAACxC,QAAL,CAAcyC,MAAd,CAAqBC,CAAC,IAAIA,CAAC,CAACC,SAAF,IAAeJ,MAAM,CAACK,YAAhD,CAAV;;AACA,UAAIJ,GAAG,CAACK,MAAJ,IAAc,CAAlB,EAAqB;AACjBpD,QAAAA,IAAI,CAACqD,IAAL,CAAU;AACNC,UAAAA,IAAI,EAAE,MADA;AAENC,UAAAA,KAAK,EAAE,gBAFD;AAGNC,UAAAA,IAAI,EAAG;AAHD,SAAV,EAIGC,IAJH,CAIQC,IAAI,IAAI,CACf,CALD;AAMH,OAPD,MAQK;AACDX,QAAAA,GAAG,CAACY,OAAJ,CAAYC,OAAO,IAAI,CACtB,CADD;AAEH;;AACD,MAAA,KAAI,CAAC5C,QAAL,GAAgB,EAAhB;AAfyB;AAgB5B;;AACDwB,EAAAA,WAAW,GAAG;AACV,SAAKlC,aAAL,CAAmBuD,UAAnB,CAA8B,KAAK9C,OAAnC,EAA4C+C,SAA5C,CAAuDC,SAAD,IAAe;AACjE,WAAKxD,QAAL,GAAgBwD,SAAS,CAACC,IAA1B;AACH,KAFD;AAGH;;AACDC,EAAAA,iBAAiB,GAAG;AAChB,QAAIC,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BC,EAA5B,EAAgCC,EAAhC,EAAoCC,EAApC,EAAwCC,EAAxC,EAA4CC,EAA5C,EAAgDC,EAAhD,EAAoDC,EAApD,EAAwDC,EAAxD,EAA4DC,EAA5D,EAAgEC,EAAhE,EAAoEC,EAApE;;AACA,KAAChB,EAAE,GAAG,KAAKhD,YAAL,CAAkBiE,GAAlB,CAAsB,WAAtB,CAAN,MAA8C,IAA9C,IAAsDjB,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACkB,QAAH,CAAY,CAAZ,CAA/E;AACA,KAACjB,EAAE,GAAG,KAAKjD,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDhB,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACiB,QAAH,CAAY,EAAZ,CAA5E;AACA,KAAChB,EAAE,GAAG,KAAKlD,YAAL,CAAkBiE,GAAlB,CAAsB,eAAtB,CAAN,MAAkD,IAAlD,IAA0Df,EAAE,KAAK,KAAK,CAAtE,GAA0E,KAAK,CAA/E,GAAmFA,EAAE,CAACgB,QAAH,CAAY,CAAZ,CAAnF;AACA,KAACf,EAAE,GAAG,KAAKnD,YAAL,CAAkBiE,GAAlB,CAAsB,cAAtB,CAAN,MAAiD,IAAjD,IAAyDd,EAAE,KAAK,KAAK,CAArE,GAAyE,KAAK,CAA9E,GAAkFA,EAAE,CAACe,QAAH,CAAY,EAAZ,CAAlF;AACA,KAACd,EAAE,GAAG,KAAKpD,YAAL,CAAkBiE,GAAlB,CAAsB,mBAAtB,CAAN,MAAsD,IAAtD,IAA8Db,EAAE,KAAK,KAAK,CAA1E,GAA8E,KAAK,CAAnF,GAAuFA,EAAE,CAACc,QAAH,CAAY,EAAZ,CAAvF;AACA,KAACb,EAAE,GAAG,KAAKrD,YAAL,CAAkBiE,GAAlB,CAAsB,YAAtB,CAAN,MAA+C,IAA/C,IAAuDZ,EAAE,KAAK,KAAK,CAAnE,GAAuE,KAAK,CAA5E,GAAgFA,EAAE,CAACa,QAAH,CAAY,EAAZ,CAAhF;AACA,KAACZ,EAAE,GAAG,KAAKtD,YAAL,CAAkBiE,GAAlB,CAAsB,WAAtB,CAAN,MAA8C,IAA9C,IAAsDX,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACY,QAAH,CAAY,EAAZ,CAA/E;AACA,KAACX,EAAE,GAAG,KAAKvD,YAAL,CAAkBiE,GAAlB,CAAsB,iBAAtB,CAAN,MAAoD,IAApD,IAA4DV,EAAE,KAAK,KAAK,CAAxE,GAA4E,KAAK,CAAjF,GAAqFA,EAAE,CAACW,QAAH,CAAY,EAAZ,CAArF;AACA,KAACV,EAAE,GAAG,KAAKxD,YAAL,CAAkBiE,GAAlB,CAAsB,eAAtB,CAAN,MAAkD,IAAlD,IAA0DT,EAAE,KAAK,KAAK,CAAtE,GAA0E,KAAK,CAA/E,GAAmFA,EAAE,CAACU,QAAH,CAAY,KAAKrD,kBAAL,EAAZ,CAAnF;AACA,KAAC4C,EAAE,GAAG,KAAKzD,YAAL,CAAkBiE,GAAlB,CAAsB,UAAtB,CAAN,MAA6C,IAA7C,IAAqDR,EAAE,KAAK,KAAK,CAAjE,GAAqE,KAAK,CAA1E,GAA8EA,EAAE,CAACS,QAAH,CAAY,EAAZ,CAA9E;AACA,KAACR,EAAE,GAAG,KAAK1D,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDP,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACQ,QAAH,CAAY,CAAZ,CAA5E;AACA,KAACP,EAAE,GAAG,KAAK3D,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDN,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACO,QAAH,CAAY,CAAZ,CAA5E;AACA,KAACN,EAAE,GAAG,KAAK5D,YAAL,CAAkBiE,GAAlB,CAAsB,OAAtB,CAAN,MAA0C,IAA1C,IAAkDL,EAAE,KAAK,KAAK,CAA9D,GAAkE,KAAK,CAAvE,GAA2EA,EAAE,CAACM,QAAH,CAAY,CAAZ,CAA3E;AACA,KAACL,EAAE,GAAG,KAAK7D,YAAL,CAAkBiE,GAAlB,CAAsB,SAAtB,CAAN,MAA4C,IAA5C,IAAoDJ,EAAE,KAAK,KAAK,CAAhE,GAAoE,KAAK,CAAzE,GAA6EA,EAAE,CAACK,QAAH,CAAY,CAAZ,CAA7E;AACA,KAACJ,EAAE,GAAG,KAAK9D,YAAL,CAAkBiE,GAAlB,CAAsB,WAAtB,CAAN,MAA8C,IAA9C,IAAsDH,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACI,QAAH,CAAY,CAAZ,CAA/E;AACA,KAACH,EAAE,GAAG,KAAK/D,YAAL,CAAkBiE,GAAlB,CAAsB,oBAAtB,CAAN,MAAuD,IAAvD,IAA+DF,EAAE,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,EAAE,CAACG,QAAH,CAAY,CAAZ,CAAxF;AACA,KAACF,EAAE,GAAG,KAAKhE,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDD,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACE,QAAH,CAAY,IAAZ,CAA5E;AACA,SAAK5C,WAAL;AACA,SAAK9B,KAAL,GAAa,KAAb;AACA,SAAKI,aAAL,GAAqB,KAArB;AACH;;AACDuE,EAAAA,gBAAgB,CAACC,OAAD,EAAU;AACtB,SAAKhF,aAAL,CAAmBiF,YAAnB,CAAgC,KAAKxE,OAArC,EAA8CuE,OAA9C,EACKxB,SADL,CACgBC,SAAD,IAAe;AAC1B/D,MAAAA,IAAI,CAACqD,IAAL,CAAU;AACNC,QAAAA,IAAI,EAAES,SAAS,CAACzB,MAAV,CAAiBkD,MAAjB,IAA2B,KAA3B,GAAmC,SAAnC,GAA+C,SAD/C;AAENjC,QAAAA,KAAK,EAAEQ,SAAS,CAACzB,MAAV,CAAiBkD,MAAjB,IAA2B,KAA3B,GAAmC,sCAAnC,GAA4EzB,SAAS,CAACzB,MAAV,CAAiBmD,WAF9F;AAGNjC,QAAAA,IAAI,EAAE,aAAaO,SAAS,CAACzB,MAAV,CAAiBkD;AAH9B,OAAV,EAIG/B,IAJH,CAIQiC,GAAG,IAAI;AACX,aAAKzB,iBAAL;AACH,OAND;AAOH,KATD,EASI0B,KAAD,IAAW;AACV3F,MAAAA,IAAI,CAACqD,IAAL,CAAU;AACNC,QAAAA,IAAI,EAAE,OADA;AAENC,QAAAA,KAAK,EAAE,OAFD;AAGNC,QAAAA,IAAI,EAAE;AAHA,OAAV;AAKA,WAAKS,iBAAL;AACH,KAhBD;AAiBH;;AACD2B,EAAAA,cAAc,GAAG;AACb,QAAI1B,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BC,EAA5B,EAAgCC,EAAhC,EAAoCC,EAApC,EAAwCC,EAAxC,EAA4CC,EAA5C,EAAgDC,EAAhD,EAAoDC,EAApD,EAAwDC,EAAxD,EAA4DC,EAA5D,EAAgEC,EAAhE,EAAoEC,EAApE;;AACA,UAAMW,IAAI,GAAG;AACTzE,MAAAA,SAAS,EAAE,CAAC,CAAC8C,EAAE,GAAG,KAAKhD,YAAL,CAAkBiE,GAAlB,CAAsB,WAAtB,CAAN,MAA8C,IAA9C,IAAsDjB,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAAC4B,KAAnF,KAA6F,CAD/F;AAETzE,MAAAA,MAAM,EAAE,CAAC8C,EAAE,GAAG,KAAKjD,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDhB,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAAC2B,KAF9E;AAGTC,MAAAA,aAAa,EAAE,CAAC3B,EAAE,GAAG,KAAKlD,YAAL,CAAkBiE,GAAlB,CAAsB,eAAtB,CAAN,MAAkD,IAAlD,IAA0Df,EAAE,KAAK,KAAK,CAAtE,GAA0E,KAAK,CAA/E,GAAmFA,EAAE,CAAC0B,KAH5F;AAIT3C,MAAAA,YAAY,EAAE,CAACkB,EAAE,GAAG,KAAKnD,YAAL,CAAkBiE,GAAlB,CAAsB,cAAtB,CAAN,MAAiD,IAAjD,IAAyDd,EAAE,KAAK,KAAK,CAArE,GAAyE,KAAK,CAA9E,GAAkFA,EAAE,CAACyB,KAJ1F;AAKTE,MAAAA,iBAAiB,EAAE,CAAC1B,EAAE,GAAG,KAAKpD,YAAL,CAAkBiE,GAAlB,CAAsB,mBAAtB,CAAN,MAAsD,IAAtD,IAA8Db,EAAE,KAAK,KAAK,CAA1E,GAA8E,KAAK,CAAnF,GAAuFA,EAAE,CAACwB,KALpG;AAMTpE,MAAAA,UAAU,EAAE,CAAC6C,EAAE,GAAG,KAAKrD,YAAL,CAAkBiE,GAAlB,CAAsB,YAAtB,CAAN,MAA+C,IAA/C,IAAuDZ,EAAE,KAAK,KAAK,CAAnE,GAAuE,KAAK,CAA5E,GAAgFA,EAAE,CAACuB,KANtF;AAOTnE,MAAAA,QAAQ,EAAE,CAAC6C,EAAE,GAAG,KAAKtD,YAAL,CAAkBiE,GAAlB,CAAsB,UAAtB,CAAN,MAA6C,IAA7C,IAAqDX,EAAE,KAAK,KAAK,CAAjE,GAAqE,KAAK,CAA1E,GAA8EA,EAAE,CAACsB,KAPlF;AAQTlE,MAAAA,SAAS,EAAE,CAAC6C,EAAE,GAAG,KAAKvD,YAAL,CAAkBiE,GAAlB,CAAsB,WAAtB,CAAN,MAA8C,IAA9C,IAAsDV,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACqB,KARpF;AASTG,MAAAA,eAAe,EAAE,CAACvB,EAAE,GAAG,KAAKxD,YAAL,CAAkBiE,GAAlB,CAAsB,iBAAtB,CAAN,MAAoD,IAApD,IAA4DT,EAAE,KAAK,KAAK,CAAxE,GAA4E,KAAK,CAAjF,GAAqFA,EAAE,CAACoB,KAThG;AAUTI,MAAAA,aAAa,EAAE,CAACvB,EAAE,GAAG,KAAKzD,YAAL,CAAkBiE,GAAlB,CAAsB,eAAtB,CAAN,MAAkD,IAAlD,IAA0DR,EAAE,KAAK,KAAK,CAAtE,GAA0E,KAAK,CAA/E,GAAmFA,EAAE,CAACmB,KAV5F;AAWTK,MAAAA,MAAM,EAAE,CAACvB,EAAE,GAAG,KAAK1D,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDP,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACkB,KAX9E;AAYTM,MAAAA,MAAM,EAAEC,MAAM,CAAC,CAACxB,EAAE,GAAG,KAAK3D,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDN,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACiB,KAAhF,CAAN,IAAgG,CAZ/F;AAaTQ,MAAAA,KAAK,EAAE,CAACxB,EAAE,GAAG,KAAK5D,YAAL,CAAkBiE,GAAlB,CAAsB,OAAtB,CAAN,MAA0C,IAA1C,IAAkDL,EAAE,KAAK,KAAK,CAA9D,GAAkE,KAAK,CAAvE,GAA2EA,EAAE,CAACgB,KAb5E;AAcTS,MAAAA,OAAO,EAAE,CAAC,CAACxB,EAAE,GAAG,KAAK7D,YAAL,CAAkBiE,GAAlB,CAAsB,SAAtB,CAAN,MAA4C,IAA5C,IAAoDJ,EAAE,KAAK,KAAK,CAAhE,GAAoE,KAAK,CAAzE,GAA6EA,EAAE,CAACe,KAAjF,KAA2F,CAd3F;AAeTU,MAAAA,SAAS,EAAE,CAACxB,EAAE,GAAG,KAAK9D,YAAL,CAAkBiE,GAAlB,CAAsB,WAAtB,CAAN,MAA8C,IAA9C,IAAsDH,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACc,KAfpF;AAgBTW,MAAAA,iBAAiB,EAAE,CAACxB,EAAE,GAAG,KAAK/D,YAAL,CAAkBiE,GAAlB,CAAsB,oBAAtB,CAAN,MAAuD,IAAvD,IAA+DF,EAAE,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,EAAE,CAACa,KAhBrG;AAiBTxD,MAAAA,MAAM,EAAE,CAAC,CAAC4C,EAAE,GAAG,KAAKhE,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDD,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACY,KAAhF,KAA0F,MAA1F,GAAmG,IAAnG,GAA0G;AAjBzG,KAAb;;AAmBA,QAAI,KAAKY,aAAL,EAAJ,EAA0B;AACtB,UAAIhD,IAAI,GAAG,KAAK5C,aAAL,IAAsB,IAAtB,GAA6B,KAAK6F,kBAAL,CAAwBd,IAAxB,CAA7B,GAA6D,KAAKe,aAAL,CAAmBf,IAAnB,CAAxE;AACH;AACJ;;AACDa,EAAAA,aAAa,GAAG;AACZ,QAAI,CAAC,KAAKxF,YAAL,CAAkB2F,KAAvB,EAA8B;AAC1B7G,MAAAA,IAAI,CAACqD,IAAL,CAAU;AACNC,QAAAA,IAAI,EAAE,OADA;AAENC,QAAAA,KAAK,EAAE,OAFD;AAGNC,QAAAA,IAAI,EAAE;AAHA,OAAV;AAKA,aAAO,KAAP;AACH,KAPD,MAQK;AACD,aAAO,IAAP;AACH;AACJ;;AACDmD,EAAAA,kBAAkB,CAACd,IAAD,EAAO;AACrB,SAAKvF,aAAL,CAAmBwG,UAAnB,CAA8B,KAAK/F,OAAnC,EAA4C,KAAKN,OAAL,CAAa,CAAb,EAAgBW,SAA5D,EAAuEyE,IAAvE,EACK/B,SADL,CACgBC,SAAD,IAAe;AAC1B/D,MAAAA,IAAI,CAACqD,IAAL,CAAU;AACNC,QAAAA,IAAI,EAAE,SADA;AAENC,QAAAA,KAAK,EAAE,cAAcQ,SAAS,CAACzB,MAAV,CAAiBmD,WAFhC;AAGNjC,QAAAA,IAAI,EAAE,aAAaO,SAAS,CAACzB,MAAV,CAAiBkD;AAH9B,OAAV,EAIG/B,IAJH,CAIQiC,GAAG,IAAI;AACX,aAAKzB,iBAAL;AACH,OAND;AAOH,KATD,EASI0B,KAAD,IAAW;AACV3F,MAAAA,IAAI,CAACqD,IAAL,CAAU;AACNC,QAAAA,IAAI,EAAE,OADA;AAENC,QAAAA,KAAK,EAAE,OAFD;AAGNC,QAAAA,IAAI,EAAE;AAHA,OAAV;AAKA,WAAKS,iBAAL;AACH,KAhBD;AAiBH;;AACD2C,EAAAA,aAAa,CAACf,IAAD,EAAO;AAChB,SAAKnF,KAAL,GAAa,IAAb;AACA,SAAKJ,aAAL,CAAmByG,UAAnB,CAA8B,KAAKhG,OAAnC,EAA4C8E,IAA5C,EACK/B,SADL,CACgBC,SAAD,IAAe;AAC1B/D,MAAAA,IAAI,CAACqD,IAAL,CAAU;AACNC,QAAAA,IAAI,EAAE,SADA;AAENC,QAAAA,KAAK,EAAE,cAAcQ,SAAS,CAACzB,MAAV,CAAiBmD,WAFhC;AAGNjC,QAAAA,IAAI,EAAE,aAAaO,SAAS,CAACzB,MAAV,CAAiBkD;AAH9B,OAAV,EAIG/B,IAJH,CAIQiC,GAAG,IAAI,CACX;AACH,OAND;AAOH,KATD,EASIC,KAAD,IAAW;AACV3F,MAAAA,IAAI,CAACqD,IAAL,CAAU;AACNC,QAAAA,IAAI,EAAE,OADA;AAENC,QAAAA,KAAK,EAAE,OAFD;AAGNC,QAAAA,IAAI,EAAE;AAHA,OAAV,EADU,CAMV;AACH,KAhBD;AAiBH;;AACDwD,EAAAA,cAAc,CAACC,EAAD,EAAK;AACf,QAAI/C,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BC,EAA5B,EAAgCC,EAAhC,EAAoCC,EAApC,EAAwCC,EAAxC,EAA4CC,EAA5C,EAAgDC,EAAhD,EAAoDC,EAApD,EAAwDC,EAAxD,EAA4DC,EAA5D,EAAgEC,EAAhE,EAAoEC,EAApE;;AACA,SAAKpE,aAAL,GAAqB,IAArB;AACA,SAAKL,OAAL,GAAe,KAAKF,QAAL,CAAcyC,MAAd,CAAqBC,CAAC,IAAIA,CAAC,CAAC7B,SAAF,IAAe6F,EAAzC,CAAf;AACA,KAAC/C,EAAE,GAAG,KAAKhD,YAAL,CAAkBiE,GAAlB,CAAsB,WAAtB,CAAN,MAA8C,IAA9C,IAAsDjB,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACkB,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgBW,SAA5B,CAA/E;AACA,KAAC+C,EAAE,GAAG,KAAKjD,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDhB,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACiB,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgBY,MAA5B,CAA5E;AACA,KAAC+C,EAAE,GAAG,KAAKlD,YAAL,CAAkBiE,GAAlB,CAAsB,eAAtB,CAAN,MAAkD,IAAlD,IAA0Df,EAAE,KAAK,KAAK,CAAtE,GAA0E,KAAK,CAA/E,GAAmFA,EAAE,CAACgB,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgBsF,aAA5B,CAAnF;AACA,KAAC1B,EAAE,GAAG,KAAKnD,YAAL,CAAkBiE,GAAlB,CAAsB,cAAtB,CAAN,MAAiD,IAAjD,IAAyDd,EAAE,KAAK,KAAK,CAArE,GAAyE,KAAK,CAA9E,GAAkFA,EAAE,CAACe,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgB0C,YAA5B,CAAlF;AACA,KAACmB,EAAE,GAAG,KAAKpD,YAAL,CAAkBiE,GAAlB,CAAsB,YAAtB,CAAN,MAA+C,IAA/C,IAAuDb,EAAE,KAAK,KAAK,CAAnE,GAAuE,KAAK,CAA5E,GAAgFA,EAAE,CAACc,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgBiB,UAA5B,CAAhF;AACA,KAAC6C,EAAE,GAAG,KAAKrD,YAAL,CAAkBiE,GAAlB,CAAsB,mBAAtB,CAAN,MAAsD,IAAtD,IAA8DZ,EAAE,KAAK,KAAK,CAA1E,GAA8E,KAAK,CAAnF,GAAuFA,EAAE,CAACa,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgBuF,iBAA5B,CAAvF;AACA,KAACxB,EAAE,GAAG,KAAKtD,YAAL,CAAkBiE,GAAlB,CAAsB,UAAtB,CAAN,MAA6C,IAA7C,IAAqDX,EAAE,KAAK,KAAK,CAAjE,GAAqE,KAAK,CAA1E,GAA8EA,EAAE,CAACY,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgBkB,QAA5B,CAA9E;AACA,KAAC8C,EAAE,GAAG,KAAKvD,YAAL,CAAkBiE,GAAlB,CAAsB,WAAtB,CAAN,MAA8C,IAA9C,IAAsDV,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACW,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgBmB,SAA5B,CAA/E;AACA,KAAC8C,EAAE,GAAG,KAAKxD,YAAL,CAAkBiE,GAAlB,CAAsB,iBAAtB,CAAN,MAAoD,IAApD,IAA4DT,EAAE,KAAK,KAAK,CAAxE,GAA4E,KAAK,CAAjF,GAAqFA,EAAE,CAACU,QAAH,CAAY,KAAK8B,qBAAL,CAA2B,KAAKzG,OAAL,CAAa,CAAb,EAAgBwF,eAA3C,CAAZ,CAArF;AACA,KAACtB,EAAE,GAAG,KAAKzD,YAAL,CAAkBiE,GAAlB,CAAsB,eAAtB,CAAN,MAAkD,IAAlD,IAA0DR,EAAE,KAAK,KAAK,CAAtE,GAA0E,KAAK,CAA/E,GAAmFA,EAAE,CAACS,QAAH,CAAY,KAAKrD,kBAAL,EAAZ,CAAnF;AACA,KAAC6C,EAAE,GAAG,KAAK1D,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDP,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACQ,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgB0F,MAA5B,CAA5E;AACA,KAACtB,EAAE,GAAG,KAAK3D,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDN,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACO,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgB2F,MAAhB,IAA0B,CAAtC,CAA5E;AACA,KAACtB,EAAE,GAAG,KAAK5D,YAAL,CAAkBiE,GAAlB,CAAsB,OAAtB,CAAN,MAA0C,IAA1C,IAAkDL,EAAE,KAAK,KAAK,CAA9D,GAAkE,KAAK,CAAvE,GAA2EA,EAAE,CAACM,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgB6F,KAA5B,CAA3E;AACA,KAACvB,EAAE,GAAG,KAAK7D,YAAL,CAAkBiE,GAAlB,CAAsB,SAAtB,CAAN,MAA4C,IAA5C,IAAoDJ,EAAE,KAAK,KAAK,CAAhE,GAAoE,KAAK,CAAzE,GAA6EA,EAAE,CAACK,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgB8F,OAA5B,CAA7E;AACA,KAACvB,EAAE,GAAG,KAAK9D,YAAL,CAAkBiE,GAAlB,CAAsB,WAAtB,CAAN,MAA8C,IAA9C,IAAsDH,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACI,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgB+F,SAA5B,CAA/E;AACA,KAACvB,EAAE,GAAG,KAAK/D,YAAL,CAAkBiE,GAAlB,CAAsB,oBAAtB,CAAN,MAAuD,IAAvD,IAA+DF,EAAE,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,EAAE,CAACG,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgBgG,iBAAhB,IAAqC,CAAjD,CAAxF;AACA,KAACvB,EAAE,GAAG,KAAKhE,YAAL,CAAkBiE,GAAlB,CAAsB,QAAtB,CAAN,MAA2C,IAA3C,IAAmDD,EAAE,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,EAAE,CAACE,QAAH,CAAY,KAAK3E,OAAL,CAAa,CAAb,EAAgB6B,MAA5B,CAA5E;AACH;;AACDP,EAAAA,kBAAkB,GAAG;AACjB,UAAMoF,WAAW,GAAG,IAAIC,IAAJ,EAApB;AACA,UAAMC,eAAe,GAAI,GAAEF,WAAW,CAACG,WAAZ,EAA0B,IAAG,KAAKC,UAAL,CAAgBJ,WAAW,CAACK,QAAZ,KAAyB,CAAzC,CAA4C,IAAG,KAAKD,UAAL,CAAgBJ,WAAW,CAACM,OAAZ,EAAhB,CAAuC,EAA9I;AACA,WAAOJ,eAAP;AACH;;AACDH,EAAAA,qBAAqB,CAACQ,QAAD,EAAW;AAC5B,UAAMC,QAAQ,GAAG,IAAIP,IAAJ,CAASM,QAAT,CAAjB;AACA,UAAME,GAAG,GAAGD,QAAQ,CAACL,WAAT,EAAZ;AACA,UAAMO,GAAG,GAAG,CAAC,OAAOF,QAAQ,CAACH,QAAT,KAAsB,CAA7B,CAAD,EAAkCM,KAAlC,CAAwC,CAAC,CAAzC,CAAZ;AACA,UAAMC,GAAG,GAAG,CAAC,MAAMJ,QAAQ,CAACF,OAAT,EAAP,EAA2BK,KAA3B,CAAiC,CAAC,CAAlC,CAAZ;AACA,WAAQ,GAAEF,GAAI,IAAGC,GAAI,IAAGE,GAAI,EAA5B;AACH;;AACDR,EAAAA,UAAU,CAACS,CAAD,EAAI;AACV,WAAOA,CAAC,GAAG,EAAJ,GAAS,MAAMA,CAAf,GAAmB,KAAKA,CAA/B;AACH;;AA7N2C,CAAhD;AA+NA/H,iBAAiB,GAAGL,UAAU,CAAC,CAC3BC,SAAS,CAAC;AACNoI,EAAAA,QAAQ,EAAE,cADJ;AAENC,EAAAA,WAAW,EAAE,2BAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,2BAAD;AAHL,CAAD,CADkB,CAAD,EAM3BlI,iBAN2B,CAA9B;AAOA,SAASA,iBAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { FormControl, Validators } from '@angular/forms';\r\nimport Swal from 'sweetalert2';\r\nlet UsuariosComponent = class UsuariosComponent {\r\n    constructor(fb, modalService, router, loginServices) {\r\n        this.fb = fb;\r\n        this.modalService = modalService;\r\n        this.router = router;\r\n        this.loginServices = loginServices;\r\n        this.usuarios = [];\r\n        this.seleccion = {};\r\n        this.usuario = [];\r\n        this.canva = false;\r\n        this.p_Size = 5;\r\n        this.page = 1;\r\n        this.optionsPage = [5, 10, 30, 50];\r\n        this.usuarioToEdit = false;\r\n        this.rutaApi = 'User';\r\n        this.criterio = '';\r\n        this.myControl = new FormControl();\r\n        this.usuariosForm = this.fb.group({\r\n            usuarioId: [0, []],\r\n            nombre: ['', Validators.required],\r\n            tipodocumento: [1, []],\r\n            numdocumento: ['', Validators.required],\r\n            correoelectronico: ['', Validators.required],\r\n            contraseña: ['', Validators.required],\r\n            telefono: ['', Validators.required],\r\n            direccion: ['', Validators.required],\r\n            fechanacimiento: ['', Validators.required],\r\n            fechacreacion: [this.obtenerFechaActual(), []],\r\n            sexoid: [0, Validators.required],\r\n            jefeid: [0, Validators.required],\r\n            rolid: [0, Validators.required],\r\n            cargoid: [0, Validators.required],\r\n            empresaid: [0, Validators.required],\r\n            ususarioopcionalId: [1, []],\r\n            estado: [true, Validators.required]\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.cargarLista();\r\n    }\r\n    pageEvent(e) {\r\n        this.p_Size = e.pageSize;\r\n        this.page = e.pageIndex + 1;\r\n    }\r\n    async selectForQuery(objeto) {\r\n        this.seleccion = objeto;\r\n        let ing = this.usuarios.filter(x => x.documento == objeto.numDocumento);\r\n        if (ing.length == 0) {\r\n            Swal.fire({\r\n                icon: 'info',\r\n                title: 'Sin resultados',\r\n                text: `Su búsqueda no tiene cargas relacionadas`\r\n            }).then(resp => {\r\n            });\r\n        }\r\n        else {\r\n            ing.forEach(element => {\r\n            });\r\n        }\r\n        this.criterio = '';\r\n    }\r\n    cargarLista() {\r\n        this.loginServices.GetAllData(this.rutaApi).subscribe((respuesta) => {\r\n            this.usuarios = respuesta.data;\r\n        });\r\n    }\r\n    LimpiarFormulario() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\r\n        (_a = this.usuariosForm.get('usuarioId')) === null || _a === void 0 ? void 0 : _a.setValue(0);\r\n        (_b = this.usuariosForm.get('nombre')) === null || _b === void 0 ? void 0 : _b.setValue('');\r\n        (_c = this.usuariosForm.get('tipodocumento')) === null || _c === void 0 ? void 0 : _c.setValue(0);\r\n        (_d = this.usuariosForm.get('numdocumento')) === null || _d === void 0 ? void 0 : _d.setValue('');\r\n        (_e = this.usuariosForm.get('correoelectronico')) === null || _e === void 0 ? void 0 : _e.setValue('');\r\n        (_f = this.usuariosForm.get('contraseña')) === null || _f === void 0 ? void 0 : _f.setValue('');\r\n        (_g = this.usuariosForm.get('direccion')) === null || _g === void 0 ? void 0 : _g.setValue('');\r\n        (_h = this.usuariosForm.get('fechanacimiento')) === null || _h === void 0 ? void 0 : _h.setValue('');\r\n        (_j = this.usuariosForm.get('fechacreacion')) === null || _j === void 0 ? void 0 : _j.setValue(this.obtenerFechaActual());\r\n        (_k = this.usuariosForm.get('telefono')) === null || _k === void 0 ? void 0 : _k.setValue('');\r\n        (_l = this.usuariosForm.get('sexoid')) === null || _l === void 0 ? void 0 : _l.setValue(0);\r\n        (_m = this.usuariosForm.get('jefeid')) === null || _m === void 0 ? void 0 : _m.setValue(0);\r\n        (_o = this.usuariosForm.get('rolid')) === null || _o === void 0 ? void 0 : _o.setValue(0);\r\n        (_p = this.usuariosForm.get('cargoid')) === null || _p === void 0 ? void 0 : _p.setValue(0);\r\n        (_q = this.usuariosForm.get('empresaid')) === null || _q === void 0 ? void 0 : _q.setValue(0);\r\n        (_r = this.usuariosForm.get('ususarioopcionalId')) === null || _r === void 0 ? void 0 : _r.setValue(0);\r\n        (_s = this.usuariosForm.get('estado')) === null || _s === void 0 ? void 0 : _s.setValue(true);\r\n        this.cargarLista();\r\n        this.canva = false;\r\n        this.usuarioToEdit = false;\r\n    }\r\n    eliminarUsuarios(rolesId) {\r\n        this.loginServices.eliminarDato(this.rutaApi, rolesId)\r\n            .subscribe((respuesta) => {\r\n            Swal.fire({\r\n                icon: respuesta.estado.codigo == \"500\" ? 'warning' : 'success',\r\n                title: respuesta.estado.codigo == \"500\" ? \"Error: Usuarios asociados a este rol\" : respuesta.estado.descripcion,\r\n                text: 'Codigo: ' + respuesta.estado.codigo\r\n            }).then(res => {\r\n                this.LimpiarFormulario();\r\n            });\r\n        }, (error) => {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: 'Hubo un problema al realizar la solicitud. Por favor, inténtalo nuevamente.'\r\n            });\r\n            this.LimpiarFormulario();\r\n        });\r\n    }\r\n    guardaUsuarios() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\r\n        const body = {\r\n            usuarioId: ((_a = this.usuariosForm.get('usuarioId')) === null || _a === void 0 ? void 0 : _a.value) || 0,\r\n            nombre: (_b = this.usuariosForm.get('nombre')) === null || _b === void 0 ? void 0 : _b.value,\r\n            tipoDocumento: (_c = this.usuariosForm.get('tipodocumento')) === null || _c === void 0 ? void 0 : _c.value,\r\n            numDocumento: (_d = this.usuariosForm.get('numdocumento')) === null || _d === void 0 ? void 0 : _d.value,\r\n            correoElectronico: (_e = this.usuariosForm.get('correoelectronico')) === null || _e === void 0 ? void 0 : _e.value,\r\n            contraseña: (_f = this.usuariosForm.get('contraseña')) === null || _f === void 0 ? void 0 : _f.value,\r\n            telefono: (_g = this.usuariosForm.get('telefono')) === null || _g === void 0 ? void 0 : _g.value,\r\n            direccion: (_h = this.usuariosForm.get('direccion')) === null || _h === void 0 ? void 0 : _h.value,\r\n            fechaNacimiento: (_j = this.usuariosForm.get('fechanacimiento')) === null || _j === void 0 ? void 0 : _j.value,\r\n            fechaCreacion: (_k = this.usuariosForm.get('fechacreacion')) === null || _k === void 0 ? void 0 : _k.value,\r\n            sexoId: (_l = this.usuariosForm.get('sexoid')) === null || _l === void 0 ? void 0 : _l.value,\r\n            jefeId: Number((_m = this.usuariosForm.get('jefeid')) === null || _m === void 0 ? void 0 : _m.value) || 0,\r\n            rolId: (_o = this.usuariosForm.get('rolid')) === null || _o === void 0 ? void 0 : _o.value,\r\n            cargoId: ((_p = this.usuariosForm.get('cargoid')) === null || _p === void 0 ? void 0 : _p.value) || 0,\r\n            empresaId: (_q = this.usuariosForm.get('empresaid')) === null || _q === void 0 ? void 0 : _q.value,\r\n            usuarioIdOpcional: (_r = this.usuariosForm.get('ususarioopcionalId')) === null || _r === void 0 ? void 0 : _r.value,\r\n            estado: ((_s = this.usuariosForm.get('estado')) === null || _s === void 0 ? void 0 : _s.value) == \"true\" ? true : false,\r\n        };\r\n        if (this.validarcampos()) {\r\n            let resp = this.usuarioToEdit == true ? this.ActualizarUsuarios(body) : this.CrearUsuarios(body);\r\n        }\r\n    }\r\n    validarcampos() {\r\n        if (!this.usuariosForm.valid) {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: 'Por favor valida los campos obligatorios'\r\n            });\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    ActualizarUsuarios(body) {\r\n        this.loginServices.UpdateData(this.rutaApi, this.usuario[0].usuarioId, body)\r\n            .subscribe((respuesta) => {\r\n            Swal.fire({\r\n                icon: 'success',\r\n                title: 'Mensaje: ' + respuesta.estado.descripcion,\r\n                text: 'Codigo: ' + respuesta.estado.codigo\r\n            }).then(res => {\r\n                this.LimpiarFormulario();\r\n            });\r\n        }, (error) => {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: 'Hubo un problema al realizar la solicitud. Por favor, inténtalo nuevamente.'\r\n            });\r\n            this.LimpiarFormulario();\r\n        });\r\n    }\r\n    CrearUsuarios(body) {\r\n        this.canva = true;\r\n        this.loginServices.createData(this.rutaApi, body)\r\n            .subscribe((respuesta) => {\r\n            Swal.fire({\r\n                icon: 'success',\r\n                title: 'Mensaje: ' + respuesta.estado.descripcion,\r\n                text: 'Codigo: ' + respuesta.estado.codigo\r\n            }).then(res => {\r\n                // this.LimpiarFormulario();\r\n            });\r\n        }, (error) => {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: 'Hubo un problema al realizar la solicitud. Por favor, inténtalo nuevamente.'\r\n            });\r\n            //this.LimpiarFormulario();\r\n        });\r\n    }\r\n    editarUsuarios(id) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\r\n        this.usuarioToEdit = true;\r\n        this.usuario = this.usuarios.filter(x => x.usuarioId == id);\r\n        (_a = this.usuariosForm.get('usuarioId')) === null || _a === void 0 ? void 0 : _a.setValue(this.usuario[0].usuarioId);\r\n        (_b = this.usuariosForm.get('nombre')) === null || _b === void 0 ? void 0 : _b.setValue(this.usuario[0].nombre);\r\n        (_c = this.usuariosForm.get('tipodocumento')) === null || _c === void 0 ? void 0 : _c.setValue(this.usuario[0].tipoDocumento);\r\n        (_d = this.usuariosForm.get('numdocumento')) === null || _d === void 0 ? void 0 : _d.setValue(this.usuario[0].numDocumento);\r\n        (_e = this.usuariosForm.get('contraseña')) === null || _e === void 0 ? void 0 : _e.setValue(this.usuario[0].contraseña);\r\n        (_f = this.usuariosForm.get('correoelectronico')) === null || _f === void 0 ? void 0 : _f.setValue(this.usuario[0].correoElectronico);\r\n        (_g = this.usuariosForm.get('telefono')) === null || _g === void 0 ? void 0 : _g.setValue(this.usuario[0].telefono);\r\n        (_h = this.usuariosForm.get('direccion')) === null || _h === void 0 ? void 0 : _h.setValue(this.usuario[0].direccion);\r\n        (_j = this.usuariosForm.get('fechanacimiento')) === null || _j === void 0 ? void 0 : _j.setValue(this.convertirFormatoFecha(this.usuario[0].fechaNacimiento));\r\n        (_k = this.usuariosForm.get('fechacreacion')) === null || _k === void 0 ? void 0 : _k.setValue(this.obtenerFechaActual());\r\n        (_l = this.usuariosForm.get('sexoid')) === null || _l === void 0 ? void 0 : _l.setValue(this.usuario[0].sexoId);\r\n        (_m = this.usuariosForm.get('jefeid')) === null || _m === void 0 ? void 0 : _m.setValue(this.usuario[0].jefeId || 0);\r\n        (_o = this.usuariosForm.get('rolid')) === null || _o === void 0 ? void 0 : _o.setValue(this.usuario[0].rolId);\r\n        (_p = this.usuariosForm.get('cargoid')) === null || _p === void 0 ? void 0 : _p.setValue(this.usuario[0].cargoId);\r\n        (_q = this.usuariosForm.get('empresaid')) === null || _q === void 0 ? void 0 : _q.setValue(this.usuario[0].empresaId);\r\n        (_r = this.usuariosForm.get('ususarioopcionalId')) === null || _r === void 0 ? void 0 : _r.setValue(this.usuario[0].usuarioIdOpcional || 1);\r\n        (_s = this.usuariosForm.get('estado')) === null || _s === void 0 ? void 0 : _s.setValue(this.usuario[0].estado);\r\n    }\r\n    obtenerFechaActual() {\r\n        const fechaActual = new Date();\r\n        const fechaFormateada = `${fechaActual.getFullYear()}-${this.dosDigitos(fechaActual.getMonth() + 1)}-${this.dosDigitos(fechaActual.getDate())}`;\r\n        return fechaFormateada;\r\n    }\r\n    convertirFormatoFecha(fechaISO) {\r\n        const fechaObj = new Date(fechaISO);\r\n        const año = fechaObj.getFullYear();\r\n        const mes = ('0' + (fechaObj.getMonth() + 1)).slice(-2);\r\n        const dia = ('0' + fechaObj.getDate()).slice(-2);\r\n        return `${año}-${mes}-${dia}`;\r\n    }\r\n    dosDigitos(n) {\r\n        return n < 10 ? '0' + n : '' + n;\r\n    }\r\n};\r\nUsuariosComponent = __decorate([\r\n    Component({\r\n        selector: 'app-usuarios',\r\n        templateUrl: './usuarios.component.html',\r\n        styleUrls: ['./usuarios.component.scss']\r\n    })\r\n], UsuariosComponent);\r\nexport { UsuariosComponent };\r\n"]},"metadata":{},"sourceType":"module"}
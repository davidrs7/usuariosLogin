{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AdminMsgErrors } from '../../../dto/utils.dto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../_services/employee/department.service\";\nimport * as i2 from \"@angular/router\";\n\nfunction DepartmentEditComponent_ul_11_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r4);\n  }\n}\n\nfunction DepartmentEditComponent_ul_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, DepartmentEditComponent_ul_11_li_1_Template, 2, 1, \"li\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.errors.getErrors(ctx_r0.name));\n  }\n}\n\nfunction DepartmentEditComponent_ul_17_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r6);\n  }\n}\n\nfunction DepartmentEditComponent_ul_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, DepartmentEditComponent_ul_17_li_1_Template, 2, 1, \"li\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.errors.getErrors(ctx_r1.colorHex));\n  }\n}\n\nfunction DepartmentEditComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelement(1, \"img\", 17);\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let DepartmentEditComponent = /*#__PURE__*/(() => {\n  class DepartmentEditComponent {\n    constructor(departmentService, route, router) {\n      this.departmentService = departmentService;\n      this.route = route;\n      this.router = router;\n      this.canva = true;\n      this.department = {\n        id: 0,\n        name: '',\n        colorHex: '',\n        employeesCount: 0\n      };\n      this.errors = new AdminMsgErrors();\n    }\n\n    ngOnInit() {\n      this.initFormEdit();\n      this.departmentId = this.route.snapshot.paramMap.get(\"id\");\n      this.departmentsMethod();\n    }\n\n    get name() {\n      return this.formEdit.get('name');\n    }\n\n    get colorHex() {\n      return this.formEdit.get('colorHex');\n    }\n\n    initFormEdit() {\n      this.formEdit = new FormGroup({\n        name: new FormControl(null, Validators.required),\n        colorHex: new FormControl(null, Validators.required)\n      });\n    }\n\n    departmentsMethod() {\n      this.departmentService.departmentByIdEndpoint(this.departmentId).subscribe(departmentResponse => {\n        var _a, _b;\n\n        this.department = departmentResponse;\n        (_a = this.name) === null || _a === void 0 ? void 0 : _a.setValue(this.department.name);\n        (_b = this.colorHex) === null || _b === void 0 ? void 0 : _b.setValue(this.department.colorHex);\n        this.canva = false;\n      });\n    }\n\n    cancel() {\n      this.router.navigateByUrl('employees/department/list');\n    }\n\n    validateFormEdit() {\n      this.formEdit.markAllAsTouched();\n\n      if (this.formEdit.status == 'VALID') {\n        this.canva = true;\n        var colorHex = this.department.colorHex;\n        this.department = this.errors.mapping(this.department, this.formEdit);\n        this.department.colorHex = this.department.colorHex.toUpperCase();\n        this.department.changeColorHex = colorHex != this.department.colorHex;\n        this.departmentService.editEndpoint(this.department).subscribe(rsp => {\n          this.canva = false;\n          this.cancel();\n        });\n      }\n    }\n\n  }\n\n  DepartmentEditComponent.ɵfac = function DepartmentEditComponent_Factory(t) {\n    return new (t || DepartmentEditComponent)(i0.ɵɵdirectiveInject(i1.DepartmentService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  DepartmentEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DepartmentEditComponent,\n    selectors: [[\"app-department-edit\"]],\n    decls: 24,\n    vars: 4,\n    consts: [[1, \"department\"], [1, \"department__container\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"department__container--information\"], [1, \"department__container--information--items\"], [1, \"information__item\"], [\"for\", \"departmentName\"], [\"type\", \"text\", \"formControlName\", \"name\", \"name\", \"name\", \"id\", \"departmentName\"], [4, \"ngIf\"], [\"for\", \"departmentColor\"], [\"type\", \"color\", \"formControlName\", \"colorHex\", \"name\", \"colorHex\", \"id\", \"departmentColor\"], [1, \"department__container--information--btn\", \"information__btn\"], [\"type\", \"submit\"], [\"type\", \"button\", 3, \"click\"], [\"class\", \"canva\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"canva\"], [\"src\", \"../../assets/load.gif\", \"alt\", \"Cargando\"]],\n    template: function DepartmentEditComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-navigation\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function DepartmentEditComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.validateFormEdit();\n        });\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"label\", 6);\n        i0.ɵɵtext(8, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\");\n        i0.ɵɵelement(10, \"input\", 7);\n        i0.ɵɵtemplate(11, DepartmentEditComponent_ul_11_Template, 2, 1, \"ul\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 5);\n        i0.ɵɵelementStart(13, \"label\", 9);\n        i0.ɵɵtext(14, \"Color\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\");\n        i0.ɵɵelement(16, \"input\", 10);\n        i0.ɵɵtemplate(17, DepartmentEditComponent_ul_17_Template, 2, 1, \"ul\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 11);\n        i0.ɵɵelementStart(19, \"button\", 12);\n        i0.ɵɵtext(20, \"Guardar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function DepartmentEditComponent_Template_button_click_21_listener() {\n          return ctx.cancel();\n        });\n        i0.ɵɵtext(22, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, DepartmentEditComponent_div_23_Template, 2, 0, \"div\", 14);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.formEdit);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.name));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.colorHex));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.canva);\n      }\n    },\n    styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Montserrat&family=Roboto&display=swap\\\";@import\\\"https://fonts.googleapis.com/css2?family=Montserrat&family=Questrial&family=Roboto&display=swap\\\";.department__container[_ngcontent-%COMP%]{margin-top:2%}.department__container--information--items[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;align-items:center;justify-items:center}\"]\n  });\n  return DepartmentEditComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { PRIMARY_OUTLET } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../_services/user.service\";\nimport * as i3 from \"src/app/_services/UserLogin/loginTiidux.service\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"@angular/common\";\n\nfunction NavigationComponent_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function NavigationComponent_li_9_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const nav_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.open(nav_r2.routing);\n    });\n    i0.ɵɵelement(2, \"span\");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const nav_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(nav_r2.name == ctx_r0.selected ? \"nav-item me-3 me-lg-1 active\" : \"nav-item me-3 me-lg-1\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(nav_r2.faClass != null && nav_r2.faClass != \"\" ? \"fas fa-lg \" + nav_r2.faClass : \"fas fa-lg fa-circle\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nav_r2.title);\n  }\n}\n\nfunction NavigationComponent_nav_19_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function NavigationComponent_nav_19_li_6_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const secNav_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.open(secNav_r6.routing);\n    });\n    i0.ɵɵelement(2, \"span\");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const secNav_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(secNav_r6.name == ctx_r5.secSelected ? \"nav-item active\" : \"nav-item\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(secNav_r6.faClass != null && secNav_r6.faClass != \"\" ? \"fas fs-5 \" + secNav_r6.faClass : \"fas fs-5 fa-circle\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(secNav_r6.title);\n  }\n}\n\nfunction NavigationComponent_nav_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nav\", 18);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"button\", 19);\n    i0.ɵɵelement(3, \"span\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 20);\n    i0.ɵɵelementStart(5, \"ul\", 21);\n    i0.ɵɵtemplate(6, NavigationComponent_nav_19_li_6_Template, 5, 5, \"li\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.secNavigate);\n  }\n}\n\nexport let NavigationComponent = /*#__PURE__*/(() => {\n  class NavigationComponent {\n    constructor(router, userService, loginTiindux) {\n      this.router = router;\n      this.userService = userService;\n      this.loginTiindux = loginTiindux;\n      this.component = '';\n      this.selected = '';\n      this.secSelected = '';\n      this.user = {\n        id: 0,\n        userName: '',\n        password: ''\n      };\n      this.userName = '';\n      this.navigate = {};\n      this.secNavigate = [];\n      this.getUser = new EventEmitter();\n    }\n\n    ngOnInit() {\n      // this.sessionValidate();\n      this.sesionActiva();\n      this.initNavigate();\n      this.initComponentRef();\n    }\n\n    initComponentRef() {\n      var _a;\n\n      const urlTree = this.router.parseUrl(this.router.url);\n      const urlGroup = urlTree.root.children[PRIMARY_OUTLET];\n      const urlSegments = urlGroup.segments;\n      if (urlSegments.length > 0 && urlSegments[0].path != '') this.component = urlSegments[0].path;\n      this.secNavigate = [];\n\n      if (urlSegments.length > 1 && urlSegments[1].path != '') {\n        this.selected = urlSegments[1].path;\n        if (this.navigate[this.component] != null && this.navigate[this.component].length > 0) for (var i = 0; i < this.navigate[this.component].length; i++) if (this.navigate[this.component][i].name == this.selected) {\n          this.secNavigate = (_a = this.navigate[this.component][i].children) !== null && _a !== void 0 ? _a : [];\n          break;\n        }\n      }\n\n      if (urlSegments.length > 2 && urlSegments[2].path != '') this.secSelected = urlSegments[2].path;\n    }\n\n    initNavigate() {\n      this.navigate['employees'] = [];\n      this.navigate['employees'].push({\n        name: 'employee',\n        title: 'Funcionarios',\n        faClass: 'fa-users',\n        routing: 'employees/employee/list'\n      });\n      this.navigate['employees'].push({\n        name: 'department',\n        title: 'Departamentos',\n        faClass: 'fa-diagram-next',\n        routing: 'employees/department/list'\n      });\n      this.navigate['employees'].push({\n        name: 'job',\n        title: 'Cargos',\n        faClass: 'fa-user-tie',\n        routing: 'employees/job/list'\n      });\n      this.navigate['employees'].push({\n        name: 'settings',\n        title: 'Ajustes',\n        faClass: 'fa-gear'\n      });\n      this.navigate['recruiter'] = [];\n      this.navigate['recruiter'].push({\n        name: 'vacancy',\n        title: 'Vacantes',\n        faClass: 'fa-users-rectangle',\n        routing: 'recruiter/vacancy/list',\n        children: [{\n          name: 'list',\n          title: 'Lista de vacantes',\n          routing: 'recruiter/vacancy/list'\n        }, {\n          name: 'add',\n          title: 'Agregar vacante',\n          faClass: 'fa-plus',\n          routing: 'recruiter/vacancy/add'\n        }]\n      });\n      this.navigate['recruiter'].push({\n        name: 'postulate',\n        title: 'Postulados',\n        faClass: 'fa-user-plus',\n        routing: 'recruiter/postulate/list'\n      });\n      this.navigate['recruiter'].push({\n        name: 'historical',\n        title: 'Histórico',\n        faClass: 'fa-timeline',\n        routing: 'recruiter/historical/list-vacancy',\n        children: [{\n          name: 'list-vacancy',\n          title: 'Vacantes históricas',\n          routing: 'recruiter/historical/list-vacancy'\n        }, {\n          name: 'list-postulate',\n          title: 'Postulados históricos',\n          routing: 'recruiter/historical/list-postulate'\n        }]\n      });\n      this.navigate['recruiter'].push({\n        name: 'step',\n        title: 'Etapas',\n        faClass: 'fa-shoe-prints',\n        routing: 'recruiter/step/list',\n        children: [{\n          name: 'list',\n          title: 'Lista de etapas',\n          routing: 'recruiter/step/list'\n        }, {\n          name: 'add',\n          title: 'Agregar etapa',\n          faClass: 'fa-plus',\n          routing: 'recruiter/step/add'\n        }, {\n          name: 'fields',\n          title: 'Lista de campos asociados',\n          routing: 'recruiter/step/fields'\n        }, {\n          name: 'add-field',\n          title: 'Agregar campo',\n          faClass: 'fa-plus',\n          routing: 'recruiter/step/add-field'\n        }]\n      });\n      this.navigate['survey'] = [];\n      this.navigate['survey'].push({\n        name: 'pending',\n        title: 'Mis Encuestas',\n        faClass: 'fa-magnifying-glass-chart',\n        routing: 'survey/pending/list'\n      });\n      this.navigate['survey'].push({\n        name: 'survey',\n        title: 'Encuestas',\n        faClass: 'fa-square-poll-vertical',\n        routing: 'survey/survey/list',\n        children: [{\n          name: 'list',\n          title: 'Lista de encuestas',\n          routing: 'survey/survey/list'\n        }, {\n          name: 'add',\n          title: 'Agregar encuesta',\n          faClass: 'fa-plus',\n          routing: 'survey/survey/add'\n        }, {\n          name: 'fields',\n          title: 'Lista de campos asociados',\n          routing: 'survey/survey/fields'\n        }, {\n          name: 'add-field',\n          title: 'Agregar campo',\n          faClass: 'fa-plus',\n          routing: 'survey/survey/add-field'\n        }]\n      }); //this.navigate['survey'].push({ name: 'people', title: 'Usuarios', faClass: 'fa-users', routing: 'survey/people/list' });\n      //this.navigate['survey'].push({ name: 'result', title: 'Resultados', faClass: 'fa-list-check', routing: 'survey/result/list' });\n    }\n\n    sessionValidate() {\n      if (localStorage.getItem('SESSL') != '1') {\n        this.router.navigateByUrl('');\n      } else {\n        var token = localStorage.getItem('SESST');\n\n        if (token != null && token != '') {\n          this.userService.userByTokenEndpoint(token).subscribe(userResponse => {\n            if (userResponse != null) {\n              this.user = userResponse;\n              this.userName = this.user.name != null && this.user.name != '' ? this.user.name.trim().substring(0, this.user.name.indexOf(' ')) : this.user.userName;\n              this.getUser.emit(this.user); //console.log(this.user); //PENDIENTE\n            } else {\n              this.destroySession();\n            }\n          });\n        } else {\n          this.destroySession();\n        }\n      }\n    }\n\n    open(module) {\n      if (module != null && module != '') this.router.navigateByUrl(module);\n    }\n\n    logout() {\n      var token = localStorage.getItem('SESST');\n\n      if (token != null && token != '') {\n        this.userService.destroySessionEndpoint(token).subscribe(response => {\n          localStorage.removeItem('SESSL');\n          localStorage.removeItem('SESST');\n          this.router.navigateByUrl('');\n        });\n      } else {\n        this.destroySession();\n      }\n    }\n\n    nuevoLogout() {\n      var token = localStorage.getItem('SESST');\n\n      if (localStorage.getItem('SESSL') != '1') {\n        this.router.navigateByUrl('');\n      } else {\n        var token = localStorage.getItem('SESST');\n\n        if (token != null && token != '') {\n          var userId = localStorage.getItem('SEUID');\n          this.loginTiindux.eliminarDato('Sesion', Number(userId)).subscribe(respuesta => {\n            console.log(respuesta.data);\n            this.destroySession();\n          });\n        } else {\n          this.destroySession();\n        }\n      }\n    }\n\n    sesionActiva() {\n      if (localStorage.getItem('SESSL') != '1') {\n        this.router.navigateByUrl('');\n      } else {\n        var token = localStorage.getItem('SESST');\n\n        if (token != null && token != '') {\n          this.loginTiindux.tokenSesion('Sesion/token', token).subscribe(respuesta => {\n            console.log(respuesta);\n\n            if (respuesta.data == null) {\n              console.log(respuesta);\n              this.nuevoLogout();\n              this.destroySession();\n            }\n          });\n        }\n      }\n    }\n\n    destroySession() {\n      localStorage.setItem('SESSL', '0');\n      this.router.navigateByUrl('');\n    }\n\n  }\n\n  NavigationComponent.ɵfac = function NavigationComponent_Factory(t) {\n    return new (t || NavigationComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.loginTiinduxService));\n  };\n\n  NavigationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NavigationComponent,\n    selectors: [[\"app-navigation\"]],\n    outputs: {\n      getUser: \"getUser\"\n    },\n    decls: 20,\n    vars: 5,\n    consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"background-right\"], [1, \"container-fluid\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarNav\", \"aria-controls\", \"navbarNav\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\", \"justify-content-between\"], [1, \"navbar-left-block\", \"d-flex\"], [1, \"navbar-brand\", \"me-2\", \"mb-1\", \"d-flex\", \"align-items-center\", 3, \"click\"], [\"src\", \"../../assets/asecofin_logo.png\", \"height\", \"50\", \"alt\", \"Asecofin Logo\", \"loading\", \"lazy\", 2, \"margin-top\", \"2px\"], [1, \"navbar-center-block\", \"navbar-nav\", \"flex-row\", \"d-none\", \"d-md-flex\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [1, \"navbar-right-block\", \"navbar-nav\", \"flex-row\"], [1, \"nav-item\", \"me-3\", \"me-lg-1\"], [1, \"nav-link\", \"d-sm-flex\", \"align-items-sm-center\"], [\"height\", \"45\", \"loading\", \"lazy\", 1, \"rounded-circle\", 3, \"src\", \"alt\"], [1, \"d-none\", \"d-sm-block\", \"ms-1\"], [1, \"nav-link\", 3, \"click\"], [1, \"fas\", \"fa-right-from-bracket\", \"fa-lg\"], [\"class\", \"navbar navbar-sec navbar-expand-lg navbar-light bg-light\", 4, \"ngIf\"], [1, \"navbar\", \"navbar-sec\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarNavSec\", \"aria-controls\", \"navbarNavSec\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [\"id\", \"navbarNavSec\", 1, \"collapse\", \"navbar-collapse\", \"justify-content-center\"], [1, \"navbar-nav\"]],\n    template: function NavigationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"button\", 2);\n        i0.ɵɵelement(3, \"span\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelementStart(6, \"div\", 6);\n        i0.ɵɵlistener(\"click\", function NavigationComponent_Template_div_click_6_listener() {\n          return ctx.open(\"modules\");\n        });\n        i0.ɵɵelement(7, \"img\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"ul\", 8);\n        i0.ɵɵtemplate(9, NavigationComponent_li_9_Template, 5, 5, \"li\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"ul\", 10);\n        i0.ɵɵelementStart(11, \"li\", 11);\n        i0.ɵɵelementStart(12, \"div\", 12);\n        i0.ɵɵelement(13, \"img\", 13);\n        i0.ɵɵelementStart(14, \"strong\", 14);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"li\", 11);\n        i0.ɵɵelementStart(17, \"div\", 15);\n        i0.ɵɵlistener(\"click\", function NavigationComponent_Template_div_click_17_listener() {\n          return ctx.nuevoLogout();\n        });\n        i0.ɵɵelement(18, \"span\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, NavigationComponent_nav_19_Template, 7, 1, \"nav\", 17);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", ctx.navigate[ctx.component]);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.user.photoUrl != null && ctx.user.photoUrl != \"\" ? ctx.user.photoUrl : \"../../assets/avatar.png\", i0.ɵɵsanitizeUrl);\n        i0.ɵɵpropertyInterpolate(\"alt\", ctx.user.userName);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.userName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.secNavigate.length > 0);\n      }\n    },\n    directives: [i4.NgbNavbar, i5.NgForOf, i5.NgIf],\n    styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Montserrat&family=Roboto&display=swap\\\";@import\\\"https://fonts.googleapis.com/css2?family=Montserrat&family=Questrial&family=Roboto&display=swap\\\";.navbar[_ngcontent-%COMP%]{background-color:#1164ba;font-size:1.8rem;font-family:\\\"Poppins\\\"}.navbar[_ngcontent-%COMP%]   .navbar-left-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.navbar[_ngcontent-%COMP%]   ul.navbar-center-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer;padding-left:1vw;padding-right:1vw}.navbar[_ngcontent-%COMP%]   ul.navbar-center-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{padding-right:.5vw}.navbar[_ngcontent-%COMP%]   ul.navbar-right-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   strong[_ngcontent-%COMP%]{color:#f0f0f0}.navbar[_ngcontent-%COMP%]   ul.navbar-right-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{display:flex;padding-left:.5vw;font-size:2.8rem;align-items:center;cursor:pointer}.navbar-sec[_ngcontent-%COMP%]{background-color:#e8eaea!important}.navbar-sec[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ed4337!important}.navbar-sec[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:1.67rem;font-weight:bold;color:#004fad!important;padding-left:2.5vw;padding-right:2.5vw;cursor:pointer}.navbar-sec[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{padding-right:.5vw}\"]\n  });\n  return NavigationComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}
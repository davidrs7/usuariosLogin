{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AdminMsgErrors } from '../../../dto/utils.dto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../_services/employee/department.service\";\nimport * as i3 from \"../../../_services/employee/job.service\";\n\nfunction JobAddComponent_ul_9_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r11);\n  }\n}\n\nfunction JobAddComponent_ul_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, JobAddComponent_ul_9_li_1_Template, 2, 1, \"li\", 23);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.errors.getErrors(ctx_r0.name));\n  }\n}\n\nfunction JobAddComponent_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const job_r12 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", job_r12.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(job_r12.name);\n  }\n}\n\nfunction JobAddComponent_ul_17_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r14);\n  }\n}\n\nfunction JobAddComponent_ul_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, JobAddComponent_ul_17_li_1_Template, 2, 1, \"li\", 23);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.errors.getErrors(ctx_r2.approveId));\n  }\n}\n\nfunction JobAddComponent_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const department_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", department_r15.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(department_r15.name);\n  }\n}\n\nfunction JobAddComponent_ul_25_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r17);\n  }\n}\n\nfunction JobAddComponent_ul_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, JobAddComponent_ul_25_li_1_Template, 2, 1, \"li\", 23);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.errors.getErrors(ctx_r4.departmentId));\n  }\n}\n\nfunction JobAddComponent_option_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const job_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", job_r18.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(job_r18.name);\n  }\n}\n\nfunction JobAddComponent_ul_33_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r20);\n  }\n}\n\nfunction JobAddComponent_ul_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, JobAddComponent_ul_33_li_1_Template, 2, 1, \"li\", 23);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.errors.getErrors(ctx_r6.reportId));\n  }\n}\n\nfunction JobAddComponent_ul_40_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r22);\n  }\n}\n\nfunction JobAddComponent_ul_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, JobAddComponent_ul_40_li_1_Template, 2, 1, \"li\", 23);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.errors.getErrors(ctx_r7.profile));\n  }\n}\n\nfunction JobAddComponent_ul_47_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r24 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r24);\n  }\n}\n\nfunction JobAddComponent_ul_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, JobAddComponent_ul_47_li_1_Template, 2, 1, \"li\", 23);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.errors.getErrors(ctx_r8.functions));\n  }\n}\n\nfunction JobAddComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelement(1, \"img\", 26);\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let JobAddComponent = /*#__PURE__*/(() => {\n  class JobAddComponent {\n    constructor(router, route, departmentService, jobService) {\n      this.router = router;\n      this.route = route;\n      this.departmentService = departmentService;\n      this.jobService = jobService;\n      this.canva = true;\n      this.departments = [];\n      this.jobs = [];\n      this.jobAdd = {\n        id: 0,\n        departmentId: 0,\n        approveId: 0,\n        reportId: 0,\n        name: '',\n        profile: '',\n        functions: ''\n      };\n      this.errors = new AdminMsgErrors();\n    }\n\n    ngOnInit() {\n      this.jobId = this.route.snapshot.paramMap.get(\"id\");\n      this.paramLists();\n      this.formJob = new FormGroup({\n        name: new FormControl(null, Validators.required),\n        approveId: new FormControl(null),\n        departmentId: new FormControl(null, Validators.required),\n        reportId: new FormControl(null),\n        profile: new FormControl(null, Validators.required),\n        functions: new FormControl(null, Validators.required)\n      });\n      if (this.jobId != null) this.jobMethod();else this.canva = false;\n    }\n\n    get name() {\n      return this.formJob.get('name');\n    }\n\n    get approveId() {\n      return this.formJob.get('approveId');\n    }\n\n    get departmentId() {\n      return this.formJob.get('departmentId');\n    }\n\n    get reportId() {\n      return this.formJob.get('reportId');\n    }\n\n    get profile() {\n      return this.formJob.get('profile');\n    }\n\n    get functions() {\n      return this.formJob.get('functions');\n    }\n\n    jobMethod() {\n      this.jobService.jobByIdEndpoint(this.jobId).subscribe(jobResponse => {\n        var _a, _b, _c, _d, _e, _f;\n\n        this.jobAdd = jobResponse;\n        (_a = this.name) === null || _a === void 0 ? void 0 : _a.setValue(this.jobAdd.name);\n        (_b = this.approveId) === null || _b === void 0 ? void 0 : _b.setValue(this.jobAdd.approveId);\n        (_c = this.departmentId) === null || _c === void 0 ? void 0 : _c.setValue(this.jobAdd.departmentId);\n        (_d = this.reportId) === null || _d === void 0 ? void 0 : _d.setValue(this.jobAdd.reportId);\n        (_e = this.profile) === null || _e === void 0 ? void 0 : _e.setValue(this.jobAdd.profile);\n        (_f = this.functions) === null || _f === void 0 ? void 0 : _f.setValue(this.jobAdd.functions);\n        this.canva = false;\n      });\n    }\n\n    paramLists() {\n      this.departmentService.departmentsEndpoint().subscribe(departmentResponse => {\n        this.departments = departmentResponse;\n      });\n      this.jobService.jobsEndpoint().subscribe(jobResponse => {\n        this.jobs = jobResponse;\n      });\n    }\n\n    addMethod() {\n      if (this.jobId == null) {\n        this.jobService.addEndpoint(this.jobAdd).subscribe(() => {\n          this.canva = false;\n          this.cancel();\n        });\n      } else {\n        this.jobService.editEndpoint(this.jobAdd).subscribe(rsp => {\n          this.canva = false;\n          this.cancel();\n        });\n      }\n    }\n\n    cancel() {\n      this.router.navigateByUrl('employees/job/list');\n    }\n\n    validateFormJob() {\n      this.formJob.markAllAsTouched();\n\n      if (this.formJob.status == 'VALID') {\n        this.canva = true;\n        this.jobAdd = this.errors.mapping(this.jobAdd, this.formJob);\n        this.jobAdd.id = this.jobId == null ? 0 : this.jobId;\n        this.addMethod();\n      }\n    }\n\n  }\n\n  JobAddComponent.ɵfac = function JobAddComponent_Factory(t) {\n    return new (t || JobAddComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DepartmentService), i0.ɵɵdirectiveInject(i3.JobService));\n  };\n\n  JobAddComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: JobAddComponent,\n    selectors: [[\"app-job-add\"]],\n    decls: 54,\n    vars: 11,\n    consts: [[1, \"job-add\", \"background-right\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"job-add__form\"], [1, \"information__item\"], [\"for\", \"jobAddName\"], [\"type\", \"text\", \"formControlName\", \"name\", \"name\", \"name\", \"id\", \"jobAddName\"], [4, \"ngIf\"], [\"for\", \"jobAddApproveId\"], [\"formControlName\", \"approveId\", \"name\", \"approveId\", \"id\", \"jobAddApproveId\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"jobAddDepartmentId\"], [\"formControlName\", \"departmentId\", \"name\", \"departmentId\", \"id\", \"jobAddDepartmentId\"], [\"formControlName\", \"reportId\", \"name\", \"reportId\", \"id\", \"jobAddReportId\"], [1, \"job-add__profile\"], [\"for\", \"jobAddProfile\"], [\"formControlName\", \"profile\", \"name\", \"profile\", \"id\", \"jobAddProfile\"], [\"for\", \"jobAddFunctions\"], [\"formControlName\", \"functions\", \"name\", \"functions\", \"id\", \"jobAddFunctions\"], [1, \"job-add__btn\", \"information__btn\"], [\"type\", \"submit\"], [\"type\", \"button\", 3, \"click\"], [\"class\", \"canva\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"canva\"], [\"src\", \"../../assets/load.gif\", \"alt\", \"Cargando\"]],\n    template: function JobAddComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-navigation\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function JobAddComponent_Template_form_ngSubmit_2_listener() {\n          return ctx.validateFormJob();\n        });\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"label\", 4);\n        i0.ɵɵtext(6, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\");\n        i0.ɵɵelement(8, \"input\", 5);\n        i0.ɵɵtemplate(9, JobAddComponent_ul_9_Template, 2, 1, \"ul\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 3);\n        i0.ɵɵelementStart(11, \"label\", 7);\n        i0.ɵɵtext(12, \"Aprueba\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\");\n        i0.ɵɵelementStart(14, \"select\", 8);\n        i0.ɵɵelement(15, \"option\", 9);\n        i0.ɵɵtemplate(16, JobAddComponent_option_16_Template, 2, 2, \"option\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(17, JobAddComponent_ul_17_Template, 2, 1, \"ul\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 3);\n        i0.ɵɵelementStart(19, \"label\", 11);\n        i0.ɵɵtext(20, \"Departamento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\");\n        i0.ɵɵelementStart(22, \"select\", 12);\n        i0.ɵɵelement(23, \"option\", 9);\n        i0.ɵɵtemplate(24, JobAddComponent_option_24_Template, 2, 2, \"option\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(25, JobAddComponent_ul_25_Template, 2, 1, \"ul\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 3);\n        i0.ɵɵelementStart(27, \"label\", 7);\n        i0.ɵɵtext(28, \"Reporta a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\");\n        i0.ɵɵelementStart(30, \"select\", 13);\n        i0.ɵɵelement(31, \"option\", 9);\n        i0.ɵɵtemplate(32, JobAddComponent_option_32_Template, 2, 2, \"option\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(33, JobAddComponent_ul_33_Template, 2, 1, \"ul\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 14);\n        i0.ɵɵelementStart(35, \"div\", 3);\n        i0.ɵɵelementStart(36, \"label\", 15);\n        i0.ɵɵtext(37, \"Perfil\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\");\n        i0.ɵɵelement(39, \"textarea\", 16);\n        i0.ɵɵtemplate(40, JobAddComponent_ul_40_Template, 2, 1, \"ul\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"div\", 14);\n        i0.ɵɵelementStart(42, \"div\", 3);\n        i0.ɵɵelementStart(43, \"label\", 17);\n        i0.ɵɵtext(44, \"Funciones\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\");\n        i0.ɵɵelement(46, \"textarea\", 18);\n        i0.ɵɵtemplate(47, JobAddComponent_ul_47_Template, 2, 1, \"ul\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"div\", 19);\n        i0.ɵɵelementStart(49, \"button\", 20);\n        i0.ɵɵtext(50, \"Guardar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function JobAddComponent_Template_button_click_51_listener() {\n          return ctx.cancel();\n        });\n        i0.ɵɵtext(52, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(53, JobAddComponent_div_53_Template, 2, 0, \"div\", 22);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.formJob);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.name));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.jobs);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.approveId));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.departments);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.departmentId));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.jobs);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.reportId));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.profile));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.functions));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.canva);\n      }\n    },\n    styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Montserrat&family=Roboto&display=swap\\\";@import\\\"https://fonts.googleapis.com/css2?family=Montserrat&family=Questrial&family=Roboto&display=swap\\\";.job-add[_ngcontent-%COMP%]{width:100%;height:100%;padding-top:5rem}.job-add__form[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;align-items:center;justify-items:center}.job-add__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20rem}.job-add__profile[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:17rem}\"]\n  });\n  return JobAddComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}
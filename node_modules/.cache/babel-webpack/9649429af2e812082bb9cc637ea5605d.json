{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AdminExtraForms, AdminMsgErrors } from 'src/app/dto/utils.dto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/_services/survey/survey.service\";\nimport * as i3 from \"src/app/_services/params.service\";\n\nfunction FieldSurveyAddComponent_ul_10_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r9);\n  }\n}\n\nfunction FieldSurveyAddComponent_ul_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_ul_10_li_1_Template, 2, 1, \"li\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.errors.getErrors(ctx_r0.name));\n  }\n}\n\nfunction FieldSurveyAddComponent_ul_31_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r11);\n  }\n}\n\nfunction FieldSurveyAddComponent_ul_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_ul_31_li_1_Template, 2, 1, \"li\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.errors.getErrors(ctx_r1.fieldType));\n  }\n}\n\nfunction FieldSurveyAddComponent_ul_41_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r13);\n  }\n}\n\nfunction FieldSurveyAddComponent_ul_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_ul_41_li_1_Template, 2, 1, \"li\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.errors.getErrors(ctx_r2.available));\n  }\n}\n\nfunction FieldSurveyAddComponent_ul_51_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r15);\n  }\n}\n\nfunction FieldSurveyAddComponent_ul_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_ul_51_li_1_Template, 2, 1, \"li\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.errors.getErrors(ctx_r3.isRequired));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_52_ul_6_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r19);\n  }\n}\n\nfunction FieldSurveyAddComponent_div_52_ul_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_div_52_ul_6_li_1_Template, 2, 1, \"li\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.errors.getErrors(ctx_r16.numMin));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_52_ul_14_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r21);\n  }\n}\n\nfunction FieldSurveyAddComponent_div_52_ul_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_div_52_ul_14_li_1_Template, 2, 1, \"li\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r17.errors.getErrors(ctx_r17.numMax));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"label\", 31);\n    i0.ɵɵtext(3, \"Valor m\\u00EDnimo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵelement(5, \"input\", 32);\n    i0.ɵɵtemplate(6, FieldSurveyAddComponent_div_52_ul_6_Template, 2, 1, \"ul\", 7);\n    i0.ɵɵelementStart(7, \"div\", 33);\n    i0.ɵɵtext(8, \"Si se mantiene este campo vacio, no se aplicar\\u00E1 validaci\\u00F3n de valor m\\u00EDnimo en este campo.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 4);\n    i0.ɵɵelementStart(10, \"label\", 34);\n    i0.ɵɵtext(11, \"Valor m\\u00E1ximo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\");\n    i0.ɵɵelement(13, \"input\", 35);\n    i0.ɵɵtemplate(14, FieldSurveyAddComponent_div_52_ul_14_Template, 2, 1, \"ul\", 7);\n    i0.ɵɵelementStart(15, \"div\", 33);\n    i0.ɵɵtext(16, \"Si se mantiene este campo vacio, no se aplicar\\u00E1 validaci\\u00F3n de valor m\\u00E1ximo en este campo.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.errors.validate(ctx_r4.numMin));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.errors.validate(ctx_r4.numMax));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_div_1_ul_5_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r27 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r27);\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_div_1_ul_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_div_53_div_1_ul_5_li_1_Template, 2, 1, \"li\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r25.errors.getErrors(ctx_r25.options));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"label\", 39);\n    i0.ɵɵtext(2, \"Opciones de la lista\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵelement(4, \"textarea\", 40);\n    i0.ɵɵtemplate(5, FieldSurveyAddComponent_div_53_div_1_ul_5_Template, 2, 1, \"ul\", 7);\n    i0.ɵɵelementStart(6, \"div\", 33);\n    i0.ɵɵtext(7, \"Este campo es obligatorio. Debe escribir las opciones de la lista separadas por coma.\");\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"strong\");\n    i0.ɵɵtext(10, \"Ejemplo:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \" Opci\\u00F3n 1,Opci\\u00F3n 2,Opci\\u00F3n 3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r22.errors.validate(ctx_r22.options));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_div_2_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const param_r30 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", param_r30.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(param_r30.title);\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_div_2_ul_7_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r32 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r32);\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_div_2_ul_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_div_53_div_2_ul_7_li_1_Template, 2, 1, \"li\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r29 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r29.errors.getErrors(ctx_r29.systemList));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"label\", 41);\n    i0.ɵɵtext(2, \"Lista del sistema\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵelementStart(4, \"select\", 42);\n    i0.ɵɵlistener(\"change\", function FieldSurveyAddComponent_div_53_div_2_Template_select_change_4_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext(2);\n      return ctx_r33.changeInternalList();\n    });\n    i0.ɵɵelement(5, \"option\", 10);\n    i0.ɵɵtemplate(6, FieldSurveyAddComponent_div_53_div_2_option_6_Template, 2, 2, \"option\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, FieldSurveyAddComponent_div_53_div_2_ul_7_Template, 2, 1, \"ul\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r23.paramOptions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r23.errors.validate(ctx_r23.systemList));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_ul_12_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r36 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r36);\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_ul_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_div_53_ul_12_li_1_Template, 2, 1, \"li\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r24.errors.getErrors(ctx_r24.score));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, FieldSurveyAddComponent_div_53_div_1_Template, 12, 1, \"div\", 36);\n    i0.ɵɵtemplate(2, FieldSurveyAddComponent_div_53_div_2_Template, 8, 2, \"div\", 36);\n    i0.ɵɵelementStart(3, \"div\", 4);\n    i0.ɵɵelementStart(4, \"label\", 37);\n    i0.ɵɵtext(5, \"\\u00BFLa lista tiene marcador de puntaje por cada \\u00EDtem?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\");\n    i0.ɵɵelementStart(7, \"select\", 38);\n    i0.ɵɵelementStart(8, \"option\", 10);\n    i0.ɵɵtext(9, \"No\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"option\", 20);\n    i0.ɵɵtext(11, \"Si\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, FieldSurveyAddComponent_div_53_ul_12_Template, 2, 1, \"ul\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.fieldType == null ? null : ctx_r5.fieldType.value) == \"list\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.fieldType == null ? null : ctx_r5.fieldType.value) == \"internal\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.errors.validate(ctx_r5.score));\n  }\n}\n\nfunction FieldSurveyAddComponent_div_54_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"input\", 49);\n    i0.ɵɵlistener(\"change\", function FieldSurveyAddComponent_div_54_div_9_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const param_r38 = restoredCtx.$implicit;\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return ctx_r39.changeInternalParam(param_r38.id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const param_r38 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", param_r38.name)(\"checked\", param_r38.available);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(param_r38.name);\n  }\n}\n\nfunction FieldSurveyAddComponent_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵelementStart(1, \"div\", 46);\n    i0.ɵɵelementStart(2, \"input\", 47);\n    i0.ɵɵlistener(\"change\", function FieldSurveyAddComponent_div_54_Template_input_change_2_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return ctx_r41.changeInternalAll();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"Seleccionar todos los par\\u00E1metros\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4);\n    i0.ɵɵelementStart(6, \"label\");\n    i0.ɵɵtext(7, \"Selecci\\u00F3n de par\\u00E1metros\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 48);\n    i0.ɵɵtemplate(9, FieldSurveyAddComponent_div_54_div_9_Template, 4, 3, \"div\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", ctx_r6.paramsAll);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.params);\n  }\n}\n\nfunction FieldSurveyAddComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵelement(1, \"img\", 51);\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let FieldSurveyAddComponent = /*#__PURE__*/(() => {\n  class FieldSurveyAddComponent {\n    constructor(router, route, surveyService, paramsService) {\n      this.router = router;\n      this.route = route;\n      this.surveyService = surveyService;\n      this.paramsService = paramsService;\n      this.canva = true;\n      this.paramsAll = true;\n      this.paramOptions = [];\n      this.params = [];\n      this.forms = new AdminExtraForms();\n      this.errors = new AdminMsgErrors();\n      this.field = {\n        id: 0,\n        available: 1,\n        name: '',\n        fieldType: '',\n        isRequired: 0,\n        active: 1,\n        weight: 0,\n        inserted: false,\n        updated: false\n      };\n    }\n\n    ngOnInit() {\n      this.initFormField();\n      this.paramOptions = this.paramsService.optionListFromParams(true, true);\n      var fieldId = this.route.snapshot.paramMap.get(\"id\");\n      if (fieldId != null) this.initField(fieldId);else this.canva = false;\n    }\n\n    get available() {\n      return this.formField.get('available');\n    }\n\n    get name() {\n      return this.formField.get('name');\n    }\n\n    get fieldType() {\n      return this.formField.get('fieldType');\n    }\n\n    get isRequired() {\n      return this.formField.get('isRequired');\n    }\n\n    get numMin() {\n      return this.formField.get('numMin');\n    }\n\n    get numMax() {\n      return this.formField.get('numMax');\n    }\n\n    get options() {\n      return this.formField.get('options');\n    }\n\n    get systemList() {\n      return this.formField.get('systemList');\n    }\n\n    get score() {\n      return this.formField.get('score');\n    }\n\n    initFormField() {\n      this.formField = new FormGroup({\n        available: new FormControl(1, Validators.required),\n        name: new FormControl(null, Validators.required),\n        fieldType: new FormControl(null, Validators.required),\n        isRequired: new FormControl(0, Validators.required),\n        numMin: new FormControl(null, Validators.pattern('^[0-9]*$')),\n        numMax: new FormControl(null, Validators.pattern('^[0-9]*$')),\n        options: new FormControl(null),\n        systemList: new FormControl(null),\n        score: new FormControl(\"\")\n      });\n    }\n\n    initField(fieldId) {\n      this.surveyService.surveyFieldByIdEndpoint(fieldId).subscribe(fieldResponse => {\n        this.field = fieldResponse;\n        this.setFormField();\n        this.canva = false;\n      });\n    }\n\n    setFormField() {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n\n      (_a = this.available) === null || _a === void 0 ? void 0 : _a.setValue(this.field.available);\n      (_b = this.name) === null || _b === void 0 ? void 0 : _b.setValue(this.field.name);\n      (_c = this.fieldType) === null || _c === void 0 ? void 0 : _c.setValue(this.field.fieldType);\n      (_d = this.isRequired) === null || _d === void 0 ? void 0 : _d.setValue(this.field.isRequired);\n      var configList = [];\n      var config = this.forms.getSurveyFieldConfig(this.field);\n\n      for (var i = 0; i < config.length; i++) switch (config[i].name) {\n        case 'min':\n          (_e = this.numMin) === null || _e === void 0 ? void 0 : _e.setValue(config[i].value);\n          break;\n\n        case 'max':\n          (_f = this.numMax) === null || _f === void 0 ? void 0 : _f.setValue(config[i].value);\n          break;\n\n        case 'options':\n          (_g = this.options) === null || _g === void 0 ? void 0 : _g.setValue(config[i].value);\n          if (this.field.fieldType == 'internal') configList = (_h = config[i].list) !== null && _h !== void 0 ? _h : [];\n          break;\n\n        case 'list':\n          (_j = this.systemList) === null || _j === void 0 ? void 0 : _j.setValue(config[i].value);\n          break;\n\n        case 'score':\n          (_k = this.score) === null || _k === void 0 ? void 0 : _k.setValue(config[i].value);\n          break;\n      }\n\n      if (this.field.fieldType == 'internal') this.changeInternalList(configList);\n    }\n\n    changeInternalList(configList) {\n      var _a, _b;\n\n      this.params = [];\n\n      if (((_a = this.systemList) === null || _a === void 0 ? void 0 : _a.value) != '') {\n        this.canva = true;\n        this.paramsService.paramsDefaultEndpoint((_b = this.systemList) === null || _b === void 0 ? void 0 : _b.value).subscribe(paramsResponse => {\n          this.params = paramsResponse;\n\n          if (configList != null && configList.length > 0) {\n            for (let param of this.params) {\n              param.available = configList.indexOf(param.name) >= 0;\n              if (!param.available) this.paramsAll = false;\n            }\n          } else {\n            for (let param of this.params) param.available = true;\n          }\n\n          this.canva = false;\n        });\n      }\n    }\n\n    changeInternalParam(paramId) {\n      this.paramsAll = true;\n\n      for (let param of this.params) if (param.id == paramId) {\n        param.available = !param.available;\n\n        if (!param.available) {\n          this.paramsAll = false;\n          break;\n        }\n      } else if (!param.available) {\n        this.paramsAll = false;\n      }\n    }\n\n    changeInternalAll() {\n      for (let param of this.params) param.available = !this.paramsAll;\n\n      this.paramsAll = !this.paramsAll;\n    }\n\n    validateFormField() {\n      this.formField.markAllAsTouched();\n\n      if (this.formField.status == 'VALID') {\n        this.canva = true;\n        this.field = this.errors.mapping(this.field, this.formField);\n        this.setConfigToField();\n        this.saveField();\n      }\n    }\n\n    setConfigToField() {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n\n      var config = '';\n\n      switch ((_a = this.fieldType) === null || _a === void 0 ? void 0 : _a.value) {\n        case 'number':\n          var separated = false;\n\n          if (((_b = this.numMin) === null || _b === void 0 ? void 0 : _b.value) != null && ((_c = this.numMin) === null || _c === void 0 ? void 0 : _c.value) != '') {\n            config += 'min:' + ((_d = this.numMin) === null || _d === void 0 ? void 0 : _d.value);\n            separated = true;\n          }\n\n          if (((_e = this.numMax) === null || _e === void 0 ? void 0 : _e.value) != null && ((_f = this.numMax) === null || _f === void 0 ? void 0 : _f.value) != '') {\n            if (separated) config += '|';\n            config += 'max:' + ((_g = this.numMax) === null || _g === void 0 ? void 0 : _g.value);\n          }\n\n          break;\n\n        case 'list':\n          if (((_h = this.options) === null || _h === void 0 ? void 0 : _h.value) != null && ((_j = this.options) === null || _j === void 0 ? void 0 : _j.value) != '') config += 'options:' + ((_k = this.options) === null || _k === void 0 ? void 0 : _k.value);\n          config += 'score:' + ((_l = this.score) === null || _l === void 0 ? void 0 : _l.value);\n          break;\n\n        case 'internal':\n          config += 'score:' + ((_m = this.score) === null || _m === void 0 ? void 0 : _m.value) + '|list:' + ((_o = this.systemList) === null || _o === void 0 ? void 0 : _o.value);\n\n          if (this.paramsAll) {\n            config += '|content:all';\n          } else {\n            config += '|options:';\n            var first = true;\n\n            for (let param of this.params) if (param.available) {\n              if (!first) config += ',';\n              config += param.name;\n              first = false;\n            }\n          }\n\n          break;\n      }\n\n      this.field.config = config;\n    }\n\n    saveField() {\n      if (this.field.id == 0) {\n        this.surveyService.addSurveyFieldEndpoint(this.field).subscribe(response => {\n          this.cancel();\n        });\n      } else {\n        this.surveyService.editSurveyFieldEndpoint(this.field).subscribe(response => {\n          this.cancel();\n        });\n      }\n    }\n\n    cancel() {\n      this.router.navigateByUrl('survey/survey/fields');\n    }\n\n  }\n\n  FieldSurveyAddComponent.ɵfac = function FieldSurveyAddComponent_Factory(t) {\n    return new (t || FieldSurveyAddComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.SurveyService), i0.ɵɵdirectiveInject(i3.ParamsService));\n  };\n\n  FieldSurveyAddComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FieldSurveyAddComponent,\n    selectors: [[\"app-field-survey-add\"]],\n    decls: 61,\n    vars: 9,\n    consts: [[1, \"add-field\", \"background-right\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"add-field-form\"], [1, \"add-field-form-x2\"], [1, \"information__item\"], [\"for\", \"fieldName\"], [\"type\", \"text\", \"formControlName\", \"name\", \"name\", \"name\", \"id\", \"fieldName\"], [4, \"ngIf\"], [\"for\", \"fieldFieldType\"], [\"formControlName\", \"fieldType\", \"name\", \"fieldType\", \"id\", \"fieldFieldType\"], [\"value\", \"\"], [\"value\", \"text\"], [\"value\", \"number\"], [\"value\", \"list\"], [\"value\", \"boolean\"], [\"value\", \"textarea\"], [\"value\", \"date\"], [\"value\", \"internal\"], [\"for\", \"fieldAvailable\"], [\"formControlName\", \"available\", \"name\", \"available\", \"id\", \"fieldAvailable\"], [\"value\", \"1\"], [\"value\", \"0\"], [\"for\", \"fieldIsRequired\"], [\"formControlName\", \"isRequired\", \"name\", \"isRequired\", \"id\", \"fieldIsRequired\"], [\"class\", \"add-field-form-x2\", 4, \"ngIf\"], [\"class\", \"add-field-form-params\", 4, \"ngIf\"], [1, \"add-field-btn\", \"information__btn\"], [\"type\", \"button\", 3, \"click\"], [\"type\", \"submit\"], [\"class\", \"canva\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"fieldNumMin\"], [\"type\", \"number\", \"formControlName\", \"numMin\", \"name\", \"numMin\", \"id\", \"fieldNumMin\"], [1, \"information__item--desc\"], [\"for\", \"fieldNumMax\"], [\"type\", \"number\", \"formControlName\", \"numMax\", \"name\", \"numMax\", \"id\", \"fieldNumMax\"], [\"class\", \"information__item\", 4, \"ngIf\"], [\"for\", \"fieldScore\"], [\"formControlName\", \"score\", \"name\", \"score\", \"id\", \"fieldScore\"], [\"for\", \"fieldOptions\"], [\"formControlName\", \"options\", \"name\", \"options\", \"id\", \"fieldOptions\"], [\"for\", \"fieldSystemList\"], [\"formControlName\", \"systemList\", \"name\", \"systemList\", \"id\", \"fieldSystemList\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"add-field-form-params\"], [1, \"add-field-form-params-all\"], [\"type\", \"checkbox\", \"value\", \"1\", 3, \"checked\", \"change\"], [1, \"add-field-form-params-x3\"], [\"type\", \"checkbox\", 3, \"value\", \"checked\", \"change\"], [1, \"canva\"], [\"src\", \"../../assets/load.gif\", \"alt\", \"Cargando\"]],\n    template: function FieldSurveyAddComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-navigation\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function FieldSurveyAddComponent_Template_form_ngSubmit_2_listener() {\n          return ctx.validateFormField();\n        });\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"label\", 5);\n        i0.ɵɵtext(7, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\");\n        i0.ɵɵelement(9, \"input\", 6);\n        i0.ɵɵtemplate(10, FieldSurveyAddComponent_ul_10_Template, 2, 1, \"ul\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 4);\n        i0.ɵɵelementStart(12, \"label\", 8);\n        i0.ɵɵtext(13, \"Tipo de campo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\");\n        i0.ɵɵelementStart(15, \"select\", 9);\n        i0.ɵɵelement(16, \"option\", 10);\n        i0.ɵɵelementStart(17, \"option\", 11);\n        i0.ɵɵtext(18, \"Texto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"option\", 12);\n        i0.ɵɵtext(20, \"N\\u00FAmero\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"option\", 13);\n        i0.ɵɵtext(22, \"Lista de opciones\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"option\", 14);\n        i0.ɵɵtext(24, \"Selecci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"option\", 15);\n        i0.ɵɵtext(26, \"Texto largo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"option\", 16);\n        i0.ɵɵtext(28, \"Fecha\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"option\", 17);\n        i0.ɵɵtext(30, \"Listas del sistema\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(31, FieldSurveyAddComponent_ul_31_Template, 2, 1, \"ul\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 4);\n        i0.ɵɵelementStart(33, \"label\", 18);\n        i0.ɵɵtext(34, \"Estado del campo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"div\");\n        i0.ɵɵelementStart(36, \"select\", 19);\n        i0.ɵɵelementStart(37, \"option\", 20);\n        i0.ɵɵtext(38, \"Habilitado\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"option\", 21);\n        i0.ɵɵtext(40, \"Deshabilitado\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(41, FieldSurveyAddComponent_ul_41_Template, 2, 1, \"ul\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"div\", 4);\n        i0.ɵɵelementStart(43, \"label\", 22);\n        i0.ɵɵtext(44, \"\\u00BFEste campo es obligatorio?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\");\n        i0.ɵɵelementStart(46, \"select\", 23);\n        i0.ɵɵelementStart(47, \"option\", 20);\n        i0.ɵɵtext(48, \"Si\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"option\", 21);\n        i0.ɵɵtext(50, \"No\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(51, FieldSurveyAddComponent_ul_51_Template, 2, 1, \"ul\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(52, FieldSurveyAddComponent_div_52_Template, 17, 2, \"div\", 24);\n        i0.ɵɵtemplate(53, FieldSurveyAddComponent_div_53_Template, 13, 3, \"div\", 24);\n        i0.ɵɵtemplate(54, FieldSurveyAddComponent_div_54_Template, 10, 2, \"div\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"div\", 26);\n        i0.ɵɵelementStart(56, \"button\", 27);\n        i0.ɵɵlistener(\"click\", function FieldSurveyAddComponent_Template_button_click_56_listener() {\n          return ctx.cancel();\n        });\n        i0.ɵɵtext(57, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"button\", 28);\n        i0.ɵɵtext(59, \"Guardar campo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(60, FieldSurveyAddComponent_div_60_Template, 2, 0, \"div\", 29);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.formField);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.name));\n        i0.ɵɵadvance(21);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.fieldType));\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.available));\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors.validate(ctx.isRequired));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.fieldType == null ? null : ctx.fieldType.value) == \"number\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.fieldType == null ? null : ctx.fieldType.value) == \"list\" || (ctx.fieldType == null ? null : ctx.fieldType.value) == \"internal\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.fieldType == null ? null : ctx.fieldType.value) == \"internal\" && ctx.params.length > 0);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.canva);\n      }\n    },\n    styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Montserrat&family=Roboto&display=swap\\\";@import\\\"https://fonts.googleapis.com/css2?family=Montserrat&family=Questrial&family=Roboto&display=swap\\\";.add-field[_ngcontent-%COMP%]{padding-top:2rem}.add-field-form-x2[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;align-items:center;justify-items:center}.add-field-form-params-all[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.add-field-form-params-all[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:3rem;min-width:2.8rem}.add-field-form-params-all[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.8rem;padding-left:1rem}.add-field-form-params-x3[_ngcontent-%COMP%]{display:grid;grid-template-columns:33% 34% 33%}.add-field-form-params-x3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.add-field-form-params-x3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:2.5rem;min-width:2.5rem}.add-field-form-params-x3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.6rem;padding-left:1rem}\"]\n  });\n  return FieldSurveyAddComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}